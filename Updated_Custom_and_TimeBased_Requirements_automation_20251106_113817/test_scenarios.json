{
  "scenarios": [
    {
      "id": "TS001",
      "name": "E2E - Create Formula-Based Metric with Weekly Cadence and Custom Target",
      "description": "This scenario tests the complete happy path for a user creating a new metric using the Formula Builder, setting a Weekly cadence, adding it to 'My Dashboard KPIs', and configuring a 4-level Custom target.",
      "category": "End-to-End (E2E) Testing",
      "priority": "High",
      "user_journey": [
        "Step 1: Navigate to the Application URL and verify the login page is displayed.",
        "Step 2: Enter the user's email address and click the 'Continue' button.",
        "Step 3: Enter the user's password and click the 'Login' button.",
        "Step 4: Select the specified company from the list.",
        "Step 5: Verify the dashboard page is displayed after successful login.",
        "Step 6: Click on 'Metrics' in the navigation menu to navigate to the Metrics page.",
        "Step 7: Click the 'Add Metric' button to open the metric creation form.",
        "Step 8: Enter a unique metric name in the 'Name' input field.",
        "Step 9: Select 'Formula' from the 'Value Source' dropdown.",
        "Step 10: Verify the 'Formula Builder' interface is visible.",
        "Step 11: Search for and select the first metric for the formula.",
        "Step 12: Click on a mathematical operator button (e.g., '+').",
        "Step 13: Search for and select the second metric for the formula.",
        "Step 14: Verify the complete formula is displayed correctly.",
        "Step 14A: Select 'Weekly' from the 'Cadence' dropdown.",
        "Step 14B: Verify the 'Resets On' dropdown appears and select a day of the week.",
        "Step 15: Click the green checkmark button to confirm the formula.",
        "Step 17: Click the 'Save' button to create the metric.",
        "Step 18: Navigate to 'My Dashboard' from the 'Dashboards' menu.",
        "Step 19: Click the 'Edit KPI' icon to open the KPI configuration modal.",
        "Step 21: Locate the newly created metric in the left panel of available metrics.",
        "Step 22: Click the metric in the left panel to move it to the right panel (selected KPIs).",
        "Step 23: Click the 'Save' button in the modal to add the KPI to the dashboard.",
        "Step 25: Locate the correct metric card for the newly added metric on the dashboard.",
        "Step 26: Hover the mouse over the metric card to reveal the three-dot menu button.",
        "Step 27: Click the three-dot menu button to open the dropdown menu.",
        "Step 28: Identify the active dropdown menu by locating the container with the 'clicked' class.",
        "Step 29: Click the 'Edit' option from the dropdown menu.",
        "Step 30: Wait for the metric's Edit page to load completely.",
        "Step 31: Click the 'Target' tab if it is not already active.",
        "Step 32A.1: Select the 'Custom' radio button.",
        "Step 32A.2: Verify that four input fields for custom targets appear.",
        "Step 32A.3: Enter the Level 1 target value.",
        "Step 32A.4: Enter the Level 2 target value.",
        "Step 32A.5: Enter the Level 3 target value.",
        "Step 32A.6: Enter the Level 4 target value.",
        "Step 33: Click the 'Save' button to save the target configuration.",
        "Step 34: Verify the page navigates back to the dashboard after saving.",
        "Step 35: Locate the metric card and verify it displays the custom target indicators.",
        "Step 36: Confirm the metric name, value, and target visualization are present and correct on the card."
      ],
      "acceptance_criteria": [
        "User successfully logs in and selects the correct company.",
        "A new formula-based metric with a weekly cadence is created successfully.",
        "The new metric is successfully added to the 'My KPIs' section on the dashboard.",
        "The user can successfully navigate to the metric's edit page from the dashboard card.",
        "A 4-level Custom target is successfully configured and saved for the metric.",
        "The metric card on the dashboard correctly reflects the saved Custom target configuration with visual indicators."
      ],
      "test_data_requirements": [
        "test_user_email, test_user_password, company_name",
        "A unique metric_name",
        "value_source = 'Formula'",
        "cadence = 'Weekly'",
        "resets_on = A valid day of the week (e.g., 'Monday')",
        "first_metric and second_metric must be existing, searchable metrics",
        "operator = A valid operator (e.g., '+')",
        "target_type = 'Custom'",
        "custom_target_values = 4 descending numeric values"
      ]
    },
    {
      "id": "TS002",
      "name": "E2E - Create Existing Metric-Based Metric with Monthly Cadence and Time-Based Target",
      "description": "This scenario tests the happy path for creating a metric based on an existing metric, setting a Monthly cadence, adding it to the dashboard, and configuring a Time-Based target.",
      "category": "End-to-End (E2E) Testing",
      "priority": "High",
      "user_journey": [
        "Step 1: Navigate to the Application URL and verify the login page is displayed.",
        "Step 2: Enter the user's email address and click the 'Continue' button.",
        "Step 3: Enter the user's password and click the 'Login' button.",
        "Step 4: Select the specified company from the list.",
        "Step 5: Verify the dashboard page is displayed after successful login.",
        "Step 6: Click on 'Metrics' in the navigation menu.",
        "Step 7: Click the 'Add Metric' button.",
        "Step 8: Enter a unique metric name in the 'Name' input field.",
        "Step 9: Select 'Metric' from the 'Value Source' dropdown.",
        "Step 10-ALT: Verify the metric selection interface is visible.",
        "Step 11-ALT: Search for and select an existing metric from the dropdown list.",
        "Step 14A: Select 'Monthly' from the 'Cadence' dropdown.",
        "Step 17: Click the 'Save' button to create the metric.",
        "Step 18: Navigate to 'My Dashboard'.",
        "Step 19: Click the 'Edit KPI' icon.",
        "Step 21: Locate the new metric in the left panel.",
        "Step 22: Click the metric to add it to the selected KPIs.",
        "Step 23: Click the 'Save' button in the modal.",
        "Step 25: Locate the new metric card on the dashboard.",
        "Step 26: Hover over the metric card to reveal the three-dot menu.",
        "Step 27: Click the three-dot menu button.",
        "Step 29: Click the 'Edit' option from the dropdown.",
        "Step 31: Select the 'Target' tab.",
        "Step 32B.1: Select the 'Time-Based' radio button.",
        "Step 32B.2: Verify that 'Start' and 'Target' input fields appear.",
        "Step 32B.3: Enter a value in the 'Start' input field.",
        "Step 32B.4: Enter a value in the 'Target' input field.",
        "Step 33: Click the 'Save' button.",
        "Step 34: Verify the page navigates back to the dashboard.",
        "Step 35: Locate the metric card and verify it displays the Time-Based target progress indicator, Start value, and Target value.",
        "Step 36: Confirm the metric card displays all information correctly."
      ],
      "acceptance_criteria": [
        "User successfully creates a new metric that sources its value from another existing metric.",
        "The new metric with a monthly cadence is saved without errors.",
        "The metric is successfully added to the 'My KPIs' section on the dashboard.",
        "A Time-Based target with a start and target value is successfully configured and saved.",
        "The metric card on the dashboard correctly reflects the saved Time-Based target, showing a progress indicator and the start/target values."
      ],
      "test_data_requirements": [
        "test_user_email, test_user_password, company_name",
        "A unique metric_name",
        "value_source = 'Metric'",
        "metric_to_select = An existing, searchable metric",
        "cadence = 'Monthly'",
        "target_type = 'Time-Based'",
        "time_based_start_value and time_based_target_value must be numeric"
      ]
    },
    {
      "id": "TS003",
      "name": "Functional - Create Formula-Based Metric with Quarterly Cadence and Add to Dashboard",
      "description": "This scenario focuses on the core functionality of creating a formula-based metric with a non-weekly cadence (Quarterly) and successfully adding it to the dashboard, without proceeding to target configuration.",
      "category": "Functional Testing",
      "priority": "High",
      "user_journey": [
        "Step 1: Navigate to the Application URL and log in.",
        "Step 2: Enter email and click 'Continue'.",
        "Step 3: Enter password and click 'Login'.",
        "Step 4: Select the company.",
        "Step 5: Verify dashboard is displayed.",
        "Step 6: Navigate to the 'Metrics' page.",
        "Step 7: Click 'Add Metric'.",
        "Step 8: Enter a unique metric name.",
        "Step 9: Select 'Formula' from 'Value Source'.",
        "Step 11: Select the first metric for the formula.",
        "Step 12: Select an operator.",
        "Step 13: Select the second metric for the formula.",
        "Step 14A: Select 'Quarterly' from the 'Cadence' dropdown.",
        "Step 15: Click the green checkmark to confirm the formula.",
        "Step 17: Click the 'Save' button to create the metric.",
        "Step 18: Navigate to 'My Dashboard'.",
        "Step 19: Click the 'Edit KPI' icon.",
        "Step 21: Find the new metric in the left panel.",
        "Step 22: Click the metric to add it to the dashboard.",
        "Step 23: Click the 'Save' button in the modal and wait for the dashboard to refresh.",
        "Step 24: Verify the newly created metric card is visible in the 'My KPIs' section on the dashboard."
      ],
      "acceptance_criteria": [
        "A new formula-based metric with a quarterly cadence is created successfully.",
        "The 'Resets On' field does not appear when 'Quarterly' cadence is selected.",
        "The metric is successfully added to the 'My KPIs' section on the dashboard.",
        "The metric card appears on the dashboard without any target configuration displayed."
      ],
      "test_data_requirements": [
        "test_user_email, test_user_password, company_name",
        "A unique metric_name",
        "value_source = 'Formula'",
        "first_metric and second_metric must be existing, searchable metrics",
        "operator = A valid operator (e.g., '*')",
        "cadence = 'Quarterly'"
      ]
    }
  ],
  "dependencies": [
    "The test user account must exist and have access to the specified company.",
    "For formula-based metric creation, the prerequisite metrics ('First Metric', 'Second Metric') must exist and be searchable within the application.",
    "For existing metric-based creation, the prerequisite metric ('Metric to Select') must exist and be searchable.",
    "The application's backend services for authentication, metric creation, and dashboard configuration must be available and responsive."
  ],
  "edge_cases": [],
  "test_data": {
    "base_url": "https://alignwebdev.aligntoday.com/",
    "test_user_email": "sudhirbd@gmail.com",
    "test_user_password": "Mindlinks2025#",
    "company_name": "[Your company name]",
    "metric_name": "[Name of the metric to be created]",
    "value_source": "Formula or Metric",
    "format": "Number",
    "cadence": "[Weekly, Monthly, Quarterly, or Yearly]",
    "resets_on": "[Day of week - only if Cadence = Weekly]",
    "first_metric": "[Name of first metric to use in formula]",
    "operator": "[+, -, /, *, (, )]",
    "second_metric": "[Name of second metric to use in formula]",
    "metric_to_select": "[Name of existing metric]",
    "target_type": "[Custom or Time-Based]",
    "custom_target_values": "[4 values from highest to lowest - Level 1, Level 2, Level 3, Level 4]",
    "time_based_start_value": "[Starting value]",
    "time_based_target_value": "[Target value to achieve]"
  }
}