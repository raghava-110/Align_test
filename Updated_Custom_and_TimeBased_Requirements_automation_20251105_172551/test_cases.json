{
  "test_cases": [
    {
      "id": "TC001",
      "scenario_id": "TS001",
      "name": "E2E - Create Formula-Based Metric with Weekly Cadence and Custom Target",
      "preconditions": [
        "A valid test user account with the specified credentials must exist and be active.",
        "The specified company must exist and be accessible to the test user.",
        "The prerequisite metrics ('First Metric', 'Second Metric') must exist in the system before the test starts.",
        "The application's authentication, metrics, and dashboard modules must be deployed and functional.",
        "The test environment must be stable, with no ongoing deployments or critical outages."
      ],
      "test_data": {
        "base_url": "https://alignwebdev.aligntoday.com/",
        "test_user_email": "sudhirbd@gmail.com",
        "test_user_password": "Mindlinks2025#",
        "company_name": "[Your company name]",
        "metric_name": "Weekly Sales Revenue",
        "value_source": "Formula",
        "format": "Number",
        "cadence": "Weekly",
        "resets_on": "Monday",
        "first_metric": "Total Deals Closed",
        "operator": "*",
        "second_metric": "Average Deal Value",
        "metric_to_select": "[Name of existing metric]",
        "target_type": "Custom",
        "custom_target_values": [
          40000,
          30000,
          20000,
          10000
        ],
        "time_based_start_value": "[Starting value]",
        "time_based_target_value": "[Target value to achieve]"
      },
      "test_steps": [
        {
          "step": 1,
          "action": "Navigate to the Application URL.",
          "expected_result": "The login page is displayed."
        },
        {
          "step": 2,
          "action": "Enter the user's email address and click the 'Continue' button.",
          "expected_result": "The password input field appears."
        },
        {
          "step": 3,
          "action": "Enter the user's password and click the 'Login' button.",
          "expected_result": "The company selection page is displayed."
        },
        {
          "step": 4,
          "action": "Select the specified company from the list.",
          "expected_result": "The user is redirected to the dashboard page."
        },
        {
          "step": 5,
          "action": "Verify that the dashboard page is displayed after successful login.",
          "expected_result": "The dashboard page, including the main navigation menu, is visible."
        },
        {
          "step": 6,
          "action": "Navigate to the Metrics page by clicking 'Metrics' in the navigation menu.",
          "expected_result": "The Metrics page loads and displays the list of existing metrics."
        },
        {
          "step": 7,
          "action": "Initiate metric creation by clicking the 'Add Metric' button.",
          "expected_result": "The metric creation form appears."
        },
        {
          "step": 8,
          "action": "Enter the metric name in the 'Name' input field.",
          "expected_result": "The entered name is visible in the 'Name' field."
        },
        {
          "step": 9,
          "action": "Select 'Formula' from the 'Value Source' dropdown.",
          "expected_result": "The interface updates to show the Formula Builder section."
        },
        {
          "step": 10,
          "action": "Verify the 'Formula Builder' interface is visible.",
          "expected_result": "The 'Formula Builder' section with a 'Search Metric' input field and operator buttons is displayed."
        },
        {
          "step": 11,
          "action": "Search for and select the first metric for the formula.",
          "expected_result": "The selected metric appears as the first part of the formula in the display area."
        },
        {
          "step": 12,
          "action": "Click on the desired operator button.",
          "expected_result": "The selected operator appears in the formula display area next to the first metric."
        },
        {
          "step": 13,
          "action": "Search for and select the second metric for the formula.",
          "expected_result": "The selected metric appears as the second part of the formula in the display area."
        },
        {
          "step": 14,
          "action": "Verify the complete formula is displayed correctly.",
          "expected_result": "The formula is displayed in the format: (Metric) [Operator] (Metric)."
        },
        {
          "step": 15,
          "action": "Select 'Weekly' from the 'Cadence' dropdown.",
          "expected_result": "The 'Resets On' dropdown appears on the form."
        },
        {
          "step": 16,
          "action": "Select a day of the week from the 'Resets On' dropdown.",
          "expected_result": "The selected day is displayed in the 'Resets On' field."
        },
        {
          "step": 17,
          "action": "Click the green checkmark button to confirm the formula.",
          "expected_result": "The formula is accepted and validated."
        },
        {
          "step": 18,
          "action": "Click the 'Save' button to create the metric.",
          "expected_result": "A confirmation message appears and the user is returned to the Metrics page, where the new metric is listed."
        },
        {
          "step": 19,
          "action": "Navigate to 'My Dashboard' from the 'Dashboards' menu.",
          "expected_result": "The 'My Dashboard' page loads, showing the 'My KPIs' section."
        },
        {
          "step": 20,
          "action": "Open the 'Edit KPI' modal by clicking the edit icon.",
          "expected_result": "The 'Edit KPI' modal opens, showing available metrics on the left and selected KPIs on the right."
        },
        {
          "step": 21,
          "action": "Locate the newly created metric in the left panel of available metrics.",
          "expected_result": "The metric is found and visible in the left panel."
        },
        {
          "step": 22,
          "action": "Click the metric in the left panel to add it to the right panel.",
          "expected_result": "The metric moves from the left panel to the right panel."
        },
        {
          "step": 23,
          "action": "Click the 'Save' button in the modal to save the KPI configuration.",
          "expected_result": "The modal closes and the dashboard begins to refresh."
        },
        {
          "step": 24,
          "action": "Wait for the dashboard to render the new KPI card.",
          "expected_result": "The dashboard fully loads and the new metric card is visible in the 'My KPIs' section."
        },
        {
          "step": 25,
          "action": "Locate the correct metric card on the dashboard.",
          "expected_result": "The specific metric card for the newly created metric is identified."
        },
        {
          "step": 26,
          "action": "Hover over the metric card to reveal the three-dot menu button.",
          "expected_result": "The three-dot menu button becomes visible on the metric card."
        },
        {
          "step": 27,
          "action": "Click the three-dot menu button to open the dropdown menu.",
          "expected_result": "A dropdown menu with options like 'Edit' appears."
        },
        {
          "step": 28,
          "action": "Identify the active dropdown menu.",
          "expected_result": "The correct dropdown menu is identified as being open."
        },
        {
          "step": 29,
          "action": "Click the 'Edit' option in the dropdown menu.",
          "expected_result": "The application navigates to the metric's Edit page."
        },
        {
          "step": 30,
          "action": "Wait for the Edit page to load completely.",
          "expected_result": "The Edit page for the metric is fully loaded, showing 'Target' and 'Metric' tabs."
        },
        {
          "step": 31,
          "action": "Select the 'Target' tab if it is not already active.",
          "expected_result": "The 'Target' configuration options (Custom, Time-Based, None) are visible."
        },
        {
          "step": 32,
          "action": "Select the 'Custom' radio button.",
          "expected_result": "Four target input fields appear, labeled for Level 1 to Level 4."
        },
        {
          "step": 33,
          "action": "Enter the Level 1, Level 2, Level 3, and Level 4 target values in their respective fields.",
          "expected_result": "All four input fields are populated with the correct numeric values."
        },
        {
          "step": 34,
          "action": "Click the 'Save' button to save the target configuration.",
          "expected_result": "The configuration is saved, and the page navigates back to the dashboard."
        },
        {
          "step": 35,
          "action": "Verify the target is visible on the metric card with performance level indicators.",
          "expected_result": "The metric card on the dashboard now displays visual indicators (e.g., color zones) for the 4-level custom target."
        },
        {
          "step": 36,
          "action": "Perform a final verification of the metric card's name, value, and target visualization.",
          "expected_result": "The metric card correctly displays the metric name, its current value, and the custom target visualization."
        }
      ]
    },
    {
      "id": "TC002",
      "scenario_id": "TS002",
      "name": "E2E - Create Existing-Metric-Based Metric with Monthly Cadence and Time-Based Target",
      "preconditions": [
        "A valid test user account with the specified credentials must exist and be active.",
        "The specified company must exist and be accessible to the test user.",
        "The prerequisite metric ('Metric to Select') must exist in the system before the test starts.",
        "The application's authentication, metrics, and dashboard modules must be deployed and functional.",
        "The test environment must be stable, with no ongoing deployments or critical outages."
      ],
      "test_data": {
        "base_url": "https://alignwebdev.aligntoday.com/",
        "test_user_email": "sudhirbd@gmail.com",
        "test_user_password": "Mindlinks2025#",
        "company_name": "[Your company name]",
        "metric_name": "Monthly Recurring Revenue (MRR)",
        "value_source": "Metric",
        "format": "Number",
        "cadence": "Monthly",
        "resets_on": "[Day of week - only if Cadence = Weekly]",
        "first_metric": "[Name of first metric to use in formula]",
        "operator": "[+, -, /, *, (, )]",
        "second_metric": "[Name of second metric to use in formula]",
        "metric_to_select": "Existing MRR Metric",
        "target_type": "Time-Based",
        "custom_target_values": "[4 values from highest to lowest - Level 1, Level 2, Level 3, Level 4]",
        "time_based_start_value": 50000,
        "time_based_target_value": 75000
      },
      "test_steps": [
        {
          "step": 1,
          "action": "Navigate to the Application URL.",
          "expected_result": "The login page is displayed."
        },
        {
          "step": 2,
          "action": "Enter the user's email address and click the 'Continue' button.",
          "expected_result": "The password input field appears."
        },
        {
          "step": 3,
          "action": "Enter the user's password and click the 'Login' button.",
          "expected_result": "The company selection page is displayed."
        },
        {
          "step": 4,
          "action": "Select the specified company from the list.",
          "expected_result": "The user is redirected to the dashboard page."
        },
        {
          "step": 5,
          "action": "Verify that the dashboard page is displayed after successful login.",
          "expected_result": "The dashboard page, including the main navigation menu, is visible."
        },
        {
          "step": 6,
          "action": "Navigate to the Metrics page by clicking 'Metrics' in the navigation menu.",
          "expected_result": "The Metrics page loads and displays the list of existing metrics."
        },
        {
          "step": 7,
          "action": "Initiate metric creation by clicking the 'Add Metric' button.",
          "expected_result": "The metric creation form appears."
        },
        {
          "step": 8,
          "action": "Enter the metric name in the 'Name' input field.",
          "expected_result": "The entered name is visible in the 'Name' field."
        },
        {
          "step": 9,
          "action": "Select 'Metric' from the 'Value Source' dropdown.",
          "expected_result": "The interface updates to show the metric selection interface."
        },
        {
          "step": 10,
          "action": "Verify the metric selection interface is visible.",
          "expected_result": "A search/dropdown field for selecting an existing metric is displayed."
        },
        {
          "step": 11,
          "action": "Search for and select an existing metric.",
          "expected_result": "The selected metric's name is displayed in the selection field."
        },
        {
          "step": 12,
          "action": "Select 'Monthly' from the 'Cadence' dropdown.",
          "expected_result": "The cadence is set to 'Monthly'. The 'Resets On' field is not visible."
        },
        {
          "step": 13,
          "action": "Click the 'Save' button to create the metric.",
          "expected_result": "A confirmation message appears and the user is returned to the Metrics page, where the new metric is listed."
        },
        {
          "step": 14,
          "action": "Navigate to 'My Dashboard' from the 'Dashboards' menu.",
          "expected_result": "The 'My Dashboard' page loads, showing the 'My KPIs' section."
        },
        {
          "step": 15,
          "action": "Open the 'Edit KPI' modal by clicking the edit icon.",
          "expected_result": "The 'Edit KPI' modal opens, showing available metrics on the left and selected KPIs on the right."
        },
        {
          "step": 16,
          "action": "Locate the newly created metric in the left panel of available metrics.",
          "expected_result": "The metric is found and visible in the left panel."
        },
        {
          "step": 17,
          "action": "Click the metric in the left panel to add it to the right panel.",
          "expected_result": "The metric moves from the left panel to the right panel."
        },
        {
          "step": 18,
          "action": "Click the 'Save' button in the modal to save the KPI configuration.",
          "expected_result": "The modal closes and the dashboard begins to refresh."
        },
        {
          "step": 19,
          "action": "Wait for the dashboard to render the new KPI card.",
          "expected_result": "The dashboard fully loads and the new metric card is visible in the 'My KPIs' section."
        },
        {
          "step": 20,
          "action": "Locate the correct metric card on the dashboard.",
          "expected_result": "The specific metric card for the newly created metric is identified."
        },
        {
          "step": 21,
          "action": "Hover over the metric card to reveal the three-dot menu button.",
          "expected_result": "The three-dot menu button becomes visible on the metric card."
        },
        {
          "step": 22,
          "action": "Click the three-dot menu button to open the dropdown menu.",
          "expected_result": "A dropdown menu with options like 'Edit' appears."
        },
        {
          "step": 23,
          "action": "Click the 'Edit' option in the dropdown menu.",
          "expected_result": "The application navigates to the metric's Edit page."
        },
        {
          "step": 24,
          "action": "Wait for the Edit page to load completely.",
          "expected_result": "The Edit page for the metric is fully loaded, showing 'Target' and 'Metric' tabs."
        },
        {
          "step": 25,
          "action": "Select the 'Target' tab if it is not already active.",
          "expected_result": "The 'Target' configuration options are visible."
        },
        {
          "step": 26,
          "action": "Select the 'Time-Based' radio button.",
          "expected_result": "'Start' and 'Target' input fields appear."
        },
        {
          "step": 27,
          "action": "Enter the Start value in the 'Start' input field.",
          "expected_result": "The entered value is visible in the 'Start' field."
        },
        {
          "step": 28,
          "action": "Enter the Target value in the 'Target' input field.",
          "expected_result": "The entered value is visible in the 'Target' field."
        },
        {
          "step": 29,
          "action": "Click the 'Save' button to save the target configuration.",
          "expected_result": "The configuration is saved, and the page navigates back to the dashboard."
        },
        {
          "step": 30,
          "action": "Verify the target is visible on the metric card with a progress indicator and Start/Target values.",
          "expected_result": "The metric card on the dashboard now displays a progress bar, along with the Start and Target values."
        },
        {
          "step": 31,
          "action": "Perform a final verification of the metric card's name, value, and target visualization.",
          "expected_result": "The metric card correctly displays the metric name, its current value, and the time-based target visualization."
        }
      ]
    },
    {
      "id": "TC003",
      "scenario_id": "TS003",
      "name": "Functional - Create Formula-Based Metric with Quarterly Cadence and Add to Dashboard",
      "preconditions": [
        "A valid test user account with the specified credentials must exist and be active.",
        "The specified company must exist and be accessible to the test user.",
        "The prerequisite metrics ('First Metric', 'Second Metric') must exist in the system before the test starts.",
        "The application's authentication, metrics, and dashboard modules must be deployed and functional.",
        "The test environment must be stable, with no ongoing deployments or critical outages."
      ],
      "test_data": {
        "base_url": "https://alignwebdev.aligntoday.com/",
        "test_user_email": "sudhirbd@gmail.com",
        "test_user_password": "Mindlinks2025#",
        "company_name": "[Your company name]",
        "metric_name": "Quarterly Profit Margin",
        "value_source": "Formula",
        "format": "Number",
        "cadence": "Quarterly",
        "resets_on": "[Day of week - only if Cadence = Weekly]",
        "first_metric": "Quarterly Revenue",
        "operator": "/",
        "second_metric": "Quarterly Costs",
        "metric_to_select": "[Name of existing metric]",
        "target_type": "None",
        "custom_target_values": "[4 values from highest to lowest - Level 1, Level 2, Level 3, Level 4]",
        "time_based_start_value": "[Starting value]",
        "time_based_target_value": "[Target value to achieve]"
      },
      "test_steps": [
        {
          "step": 1,
          "action": "Navigate to the Application URL.",
          "expected_result": "The login page is displayed."
        },
        {
          "step": 2,
          "action": "Enter the user's email address and click the 'Continue' button.",
          "expected_result": "The password input field appears."
        },
        {
          "step": 3,
          "action": "Enter the user's password and click the 'Login' button.",
          "expected_result": "The company selection page is displayed."
        },
        {
          "step": 4,
          "action": "Select the specified company from the list.",
          "expected_result": "The user is redirected to the dashboard page."
        },
        {
          "step": 5,
          "action": "Verify that the dashboard page is displayed after successful login.",
          "expected_result": "The dashboard page, including the main navigation menu, is visible."
        },
        {
          "step": 6,
          "action": "Navigate to the Metrics page by clicking 'Metrics' in the navigation menu.",
          "expected_result": "The Metrics page loads and displays the list of existing metrics."
        },
        {
          "step": 7,
          "action": "Initiate metric creation by clicking the 'Add Metric' button.",
          "expected_result": "The metric creation form appears."
        },
        {
          "step": 8,
          "action": "Enter the metric name in the 'Name' input field.",
          "expected_result": "The entered name is visible in the 'Name' field."
        },
        {
          "step": 9,
          "action": "Select 'Formula' from the 'Value Source' dropdown.",
          "expected_result": "The interface updates to show the Formula Builder section."
        },
        {
          "step": 10,
          "action": "Verify the 'Formula Builder' interface is visible.",
          "expected_result": "The 'Formula Builder' section with a 'Search Metric' input field and operator buttons is displayed."
        },
        {
          "step": 11,
          "action": "Search for and select the first metric for the formula.",
          "expected_result": "The selected metric appears as the first part of the formula in the display area."
        },
        {
          "step": 12,
          "action": "Click on the desired operator button.",
          "expected_result": "The selected operator appears in the formula display area next to the first metric."
        },
        {
          "step": 13,
          "action": "Search for and select the second metric for the formula.",
          "expected_result": "The selected metric appears as the second part of the formula in the display area."
        },
        {
          "step": 14,
          "action": "Verify the complete formula is displayed correctly.",
          "expected_result": "The formula is displayed in the format: (Metric) [Operator] (Metric)."
        },
        {
          "step": 15,
          "action": "Select 'Quarterly' from the 'Cadence' dropdown.",
          "expected_result": "The cadence is set to 'Quarterly'. The 'Resets On' field is not visible."
        },
        {
          "step": 16,
          "action": "Click the green checkmark button to confirm the formula.",
          "expected_result": "The formula is accepted and validated."
        },
        {
          "step": 17,
          "action": "Click the 'Save' button to create the metric.",
          "expected_result": "A confirmation message appears and the user is returned to the Metrics page, where the new metric is listed."
        },
        {
          "step": 18,
          "action": "Navigate to 'My Dashboard' from the 'Dashboards' menu.",
          "expected_result": "The 'My Dashboard' page loads, showing the 'My KPIs' section."
        },
        {
          "step": 19,
          "action": "Open the 'Edit KPI' modal by clicking the edit icon.",
          "expected_result": "The 'Edit KPI' modal opens, showing available metrics on the left and selected KPIs on the right."
        },
        {
          "step": 20,
          "action": "Locate the newly created metric in the left panel of available metrics.",
          "expected_result": "The metric is found and visible in the left panel."
        },
        {
          "step": 21,
          "action": "Click the metric in the left panel to add it to the right panel.",
          "expected_result": "The metric moves from the left panel to the right panel."
        },
        {
          "step": 22,
          "action": "Click the 'Save' button in the modal and wait for the dashboard to refresh.",
          "expected_result": "The modal closes and the dashboard refreshes to show the new metric card in the 'My KPIs' section. The card displays its name and value, but no target visualization."
        }
      ]
    }
  ]
}