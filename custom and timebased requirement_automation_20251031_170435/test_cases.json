{
  "test_cases": [
    {
      "id": "TC001",
      "scenario_id": "TS001",
      "name": "E2E - Create Formula Metric and Configure 4-Level Custom Target",
      "preconditions": [
        "A valid, active user account must exist in the system.",
        "The user must be associated with the specified company.",
        "At least two source metrics must pre-exist in the selected company's account.",
        "The application environment must be stable and accessible."
      ],
      "test_data": {
        "Email": "[User email address]",
        "Password": "[User password]",
        "Company Name": "[Company to be selected]",
        "Metric Name": "[Name of the metric to be created]",
        "Value Source": "Formula",
        "First Metric": "[Name of first metric to use in formula]",
        "Operator": "+",
        "Second Metric": "[Name of second metric to use in formula]",
        "Target Type": "Custom",
        "Custom Target Values": "[4 values from highest to lowest - Level 1, Level 2, Level 3, Level 4]"
      },
      "test_steps": [
        {
          "step": 1,
          "action": "Navigate to the Application URL.",
          "expected_result": "The login page is displayed."
        },
        {
          "step": 2,
          "action": "Enter the user's email address in the email input field and click the 'Continue' button.",
          "expected_result": "The password input field appears."
        },
        {
          "step": 3,
          "action": "Enter the user's password in the password input field and click the 'Login' button.",
          "expected_result": "The company selection page loads successfully."
        },
        {
          "step": 4,
          "action": "Locate and click on the specified company from the list.",
          "expected_result": "The user is redirected to the main dashboard for the selected company."
        },
        {
          "step": 5,
          "action": "Verify the main dashboard is displayed.",
          "expected_result": "The main dashboard page is visible with the navigation menu."
        },
        {
          "step": 6,
          "action": "Click on 'Metrics' in the navigation menu.",
          "expected_result": "The Metrics page loads successfully."
        },
        {
          "step": 7,
          "action": "Click the 'Add Metric' button.",
          "expected_result": "The metric creation form appears."
        },
        {
          "step": 8,
          "action": "Enter the metric name in the 'Name' input field.",
          "expected_result": "The specified metric name is entered in the field."
        },
        {
          "step": 9,
          "action": "Click the 'Value Source' dropdown and select 'Formula'.",
          "expected_result": "The Formula Builder interface appears below the dropdown."
        },
        {
          "step": 10,
          "action": "Verify the Formula Builder interface.",
          "expected_result": "The 'Formula Builder' section is visible with a 'Search Metric' input field and operator buttons."
        },
        {
          "step": 11,
          "action": "In the 'Search Metric' field, search for and select the first metric.",
          "expected_result": "The selected metric appears in the formula display area."
        },
        {
          "step": 12,
          "action": "Click the desired operator button (e.g., '+').",
          "expected_result": "The selected operator appears in the formula display area next to the first metric."
        },
        {
          "step": 13,
          "action": "In the 'Search Metric' field, search for and select the second metric.",
          "expected_result": "The second selected metric appears in the formula display area."
        },
        {
          "step": 14,
          "action": "Verify the constructed formula.",
          "expected_result": "The complete formula is displayed correctly in the format '(Metric) [Operator] (Metric)' and a valid formula indicator (green checkmark) is visible."
        },
        {
          "step": 15,
          "action": "Click the green checkmark button to confirm the formula.",
          "expected_result": "The formula is accepted and set for the metric."
        },
        {
          "step": 16,
          "action": "Click the 'Save' button to create the metric.",
          "expected_result": "A confirmation message appears, and the user is returned to the Metrics page where the new metric is listed."
        },
        {
          "step": 17,
          "action": "Navigate to 'My Dashboard' from the main navigation menu.",
          "expected_result": "The 'My Dashboard' page loads with the 'My KPIs' section visible."
        },
        {
          "step": 18,
          "action": "Click the 'Edit KPI' icon in the 'My KPIs' section.",
          "expected_result": "The KPI selection modal opens, showing available metrics on the left and selected KPIs on the right."
        },
        {
          "step": 19,
          "action": "Locate the newly created metric in the left panel of available metrics.",
          "expected_result": "The metric is found and visible in the left panel."
        },
        {
          "step": 20,
          "action": "Click the metric in the left panel.",
          "expected_result": "The metric is moved from the left panel to the right panel (selected KPIs)."
        },
        {
          "step": 21,
          "action": "Click the 'Save' button in the modal.",
          "expected_result": "The modal closes and the dashboard refreshes to show the newly added metric card in the 'My KPIs' section."
        },
        {
          "step": 22,
          "action": "Locate the newly added metric card on the dashboard.",
          "expected_result": "The metric card with the correct name is visible on the dashboard."
        },
        {
          "step": 23,
          "action": "Hover the mouse cursor over the metric card.",
          "expected_result": "The three-dot menu button becomes visible on the card."
        },
        {
          "step": 24,
          "action": "Click the three-dot menu button.",
          "expected_result": "A dropdown menu opens with options including 'Edit'."
        },
        {
          "step": 25,
          "action": "Click the 'Edit' option from the dropdown menu.",
          "expected_result": "The user is navigated to the Edit page for the metric."
        },
        {
          "step": 26,
          "action": "On the Edit page, select the 'Target' tab if it is not already active.",
          "expected_result": "The target configuration options (Custom, Time-Based, None) are displayed."
        },
        {
          "step": 27,
          "action": "Click the 'Custom' radio button.",
          "expected_result": "Four input fields for custom target levels appear."
        },
        {
          "step": 28,
          "action": "Enter the Level 1, Level 2, Level 3, and Level 4 target values in their respective fields.",
          "expected_result": "All four target values are entered correctly in descending order."
        },
        {
          "step": 29,
          "action": "Click the 'Save' button.",
          "expected_result": "The target configuration is saved, and the page navigates back to the dashboard."
        },
        {
          "step": 30,
          "action": "Verify the metric card on the dashboard.",
          "expected_result": "The metric card now displays visual indicators for the 4-level custom target."
        },
        {
          "step": 31,
          "action": "Perform a final verification of the metric card.",
          "expected_result": "The metric card correctly displays the metric's name, its current value, and the custom target visualization."
        }
      ]
    },
    {
      "id": "TC002",
      "scenario_id": "TS002",
      "name": "E2E - Create Formula Metric and Configure Time-Based Target",
      "preconditions": [
        "A valid, active user account must exist in the system.",
        "The user must be associated with the specified company.",
        "At least two source metrics must pre-exist in the selected company's account.",
        "The application environment must be stable and accessible."
      ],
      "test_data": {
        "Email": "[User email address]",
        "Password": "[User password]",
        "Company Name": "[Company to be selected]",
        "Metric Name": "[Name of the metric to be created]",
        "Value Source": "Formula",
        "First Metric": "[Name of first metric to use in formula]",
        "Operator": "/",
        "Second Metric": "[Name of second metric to use in formula]",
        "Target Type": "Time-Based",
        "Time-Based Start Value": "[Starting value]",
        "Time-Based Target Value": "[Target value to achieve]"
      },
      "test_steps": [
        {
          "step": 1,
          "action": "Navigate to the Application URL.",
          "expected_result": "The login page is displayed."
        },
        {
          "step": 2,
          "action": "Enter the user's email address and click 'Continue'.",
          "expected_result": "The password input field appears."
        },
        {
          "step": 3,
          "action": "Enter the user's password and click 'Login'.",
          "expected_result": "The company selection page loads successfully."
        },
        {
          "step": 4,
          "action": "Select the specified company from the list.",
          "expected_result": "The user is redirected to the main dashboard."
        },
        {
          "step": 5,
          "action": "Navigate to the 'Metrics' page from the navigation menu.",
          "expected_result": "The Metrics page loads successfully."
        },
        {
          "step": 6,
          "action": "Click the 'Add Metric' button.",
          "expected_result": "The metric creation form appears."
        },
        {
          "step": 7,
          "action": "Enter the metric name in the 'Name' input field.",
          "expected_result": "The specified metric name is entered in the field."
        },
        {
          "step": 8,
          "action": "Select 'Formula' from the 'Value Source' dropdown.",
          "expected_result": "The Formula Builder interface appears."
        },
        {
          "step": 9,
          "action": "Search for and select the first metric for the formula.",
          "expected_result": "The first metric is added to the formula display."
        },
        {
          "step": 10,
          "action": "Click the desired operator button.",
          "expected_result": "The operator is added to the formula display."
        },
        {
          "step": 11,
          "action": "Search for and select the second metric for the formula.",
          "expected_result": "The second metric is added to the formula display."
        },
        {
          "step": 12,
          "action": "Click the green checkmark button to confirm the formula.",
          "expected_result": "The formula is accepted and set for the metric."
        },
        {
          "step": 13,
          "action": "Click the 'Save' button to create the metric.",
          "expected_result": "The metric is created successfully."
        },
        {
          "step": 14,
          "action": "Navigate to 'My Dashboard' from the main navigation.",
          "expected_result": "The 'My Dashboard' page loads."
        },
        {
          "step": 15,
          "action": "Click the 'Edit KPI' icon to open the KPI selection modal.",
          "expected_result": "The KPI selection modal opens."
        },
        {
          "step": 16,
          "action": "Locate and click the newly created metric in the left panel to add it to the right panel.",
          "expected_result": "The metric moves to the right panel of selected KPIs."
        },
        {
          "step": 17,
          "action": "Click the 'Save' button in the modal to update the dashboard.",
          "expected_result": "The modal closes and the dashboard refreshes with the new metric card."
        },
        {
          "step": 18,
          "action": "Hover over the new metric card and click the three-dot menu button.",
          "expected_result": "A dropdown menu appears."
        },
        {
          "step": 19,
          "action": "Click the 'Edit' option from the dropdown menu.",
          "expected_result": "The Edit page for the metric loads."
        },
        {
          "step": 20,
          "action": "Select the 'Target' tab if it is not already active.",
          "expected_result": "The target configuration options are displayed."
        },
        {
          "step": 21,
          "action": "Click the 'Time-Based' radio button.",
          "expected_result": "'Start' and 'Target' input fields appear."
        },
        {
          "step": 22,
          "action": "Enter a value in the 'Start' input field.",
          "expected_result": "The start value is entered correctly."
        },
        {
          "step": 23,
          "action": "Enter a value in the 'Target' input field.",
          "expected_result": "The target value is entered correctly."
        },
        {
          "step": 24,
          "action": "Click the 'Save' button to save the target configuration.",
          "expected_result": "The configuration is saved, and the page navigates back to the dashboard."
        },
        {
          "step": 25,
          "action": "Verify the metric card on the dashboard.",
          "expected_result": "The metric card now displays the time-based progress indicator, along with the Start and Target values."
        },
        {
          "step": 26,
          "action": "Perform a final verification of the metric card.",
          "expected_result": "The metric card correctly displays the metric's name, value, and time-based target visualization."
        }
      ]
    },
    {
      "id": "TC003",
      "scenario_id": "TS003",
      "name": "Functional - Verify Formula Builder UI and Formula Construction",
      "preconditions": [
        "A valid, active user account must exist in the system.",
        "The user must be associated with the specified company.",
        "At least two source metrics must pre-exist in the selected company's account.",
        "The application environment must be stable and accessible."
      ],
      "test_data": {
        "Email": "[User email address]",
        "Password": "[User password]",
        "Company Name": "[Company to be selected]",
        "Metric Name": "[Name of the metric to be created]",
        "Value Source": "Formula",
        "First Metric": "[Name of first metric to use in formula]",
        "Operator": "*",
        "Second Metric": "[Name of second metric to use in formula]"
      },
      "test_steps": [
        {
          "step": 1,
          "action": "Navigate to the application and log in successfully.",
          "expected_result": "The user is logged in and on the main dashboard."
        },
        {
          "step": 2,
          "action": "Select the specified company.",
          "expected_result": "The dashboard for the selected company is displayed."
        },
        {
          "step": 3,
          "action": "Navigate to the 'Metrics' page.",
          "expected_result": "The Metrics page is displayed, showing a list of existing metrics."
        },
        {
          "step": 4,
          "action": "Click the 'Add Metric' button.",
          "expected_result": "The metric creation form opens."
        },
        {
          "step": 5,
          "action": "Enter a metric name in the 'Name' field.",
          "expected_result": "The name is entered correctly."
        },
        {
          "step": 6,
          "action": "Select 'Formula' from the 'Value Source' dropdown.",
          "expected_result": "The 'Formula Builder' section becomes visible on the form."
        },
        {
          "step": 7,
          "action": "Verify the components of the Formula Builder.",
          "expected_result": "The builder contains a 'Search Metric' input field, operator buttons (+, -, /, *), and a formula display area."
        },
        {
          "step": 8,
          "action": "In the 'Search Metric' input field, enter the name of the first pre-existing metric and select it from the results.",
          "expected_result": "The selected metric appears as the first element in the formula display area."
        },
        {
          "step": 9,
          "action": "Click on an operator button (e.g., '*').",
          "expected_result": "The selected operator appears next to the first metric in the formula display area."
        },
        {
          "step": 10,
          "action": "In the 'Search Metric' input field, enter the name of the second pre-existing metric and select it from the results.",
          "expected_result": "The second metric appears after the operator in the formula display area."
        },
        {
          "step": 11,
          "action": "Verify the complete formula and the validity indicator.",
          "expected_result": "The formula is displayed in the format '(Metric) [Operator] (Metric)' and a green checkmark button is visible, indicating the formula is valid."
        },
        {
          "step": 12,
          "action": "Click the green checkmark button to confirm the formula.",
          "expected_result": "The formula is accepted and finalized in the builder."
        }
      ]
    }
  ]
}