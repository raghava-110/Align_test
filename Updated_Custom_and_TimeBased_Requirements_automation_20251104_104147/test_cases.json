{
  "test_cases": [
    {
      "id": "TC001",
      "scenario_id": "TS001",
      "name": "E2E - Create Formula Metric with Weekly Cadence and Custom Target",
      "preconditions": [
        "A valid, active user account with the specified credentials must exist.",
        "The user must have access to the specified company.",
        "The prerequisite metrics ('First Metric', 'Second Metric') must exist in the system and be searchable.",
        "The application environment at the specified base_url must be stable and accessible."
      ],
      "test_data": {
        "base_url": "https://alignwebdev.aligntoday.com/",
        "test_user_email": "sudhirbd@gmail.com",
        "test_user_password": "Mindlinks2025#",
        "company_name": "[Your company name]",
        "metric_name": "Weekly Sales Formula Metric",
        "value_source": "Formula",
        "cadence": "Weekly",
        "resets_on": "Monday",
        "first_metric": "[Name of first metric to use in formula]",
        "operator": "+",
        "second_metric": "[Name of second metric to use in formula]",
        "target_type": "Custom",
        "custom_target_values": "[4 values from highest to lowest - Level 1, Level 2, Level 3, Level 4]"
      },
      "test_steps": [
        {
          "step": 1,
          "action": "Navigate to the Application URL.",
          "expected_result": "The login page is displayed successfully."
        },
        {
          "step": 2,
          "action": "Enter the user's email address into the email input field and click 'Continue'.",
          "expected_result": "The password input field appears."
        },
        {
          "step": 3,
          "action": "Enter the user's password into the password input field and click 'Login'.",
          "expected_result": "The user is authenticated and the company selection page loads."
        },
        {
          "step": 4,
          "action": "Locate and click on the specified company from the list.",
          "expected_result": "The company is selected and the user is redirected to the dashboard."
        },
        {
          "step": 5,
          "action": "Verify the dashboard page is displayed after successful login.",
          "expected_result": "The main dashboard with its components (e.g., navigation menu, KPI section) is visible."
        },
        {
          "step": 6,
          "action": "Click on 'Metrics' in the main navigation menu.",
          "expected_result": "The user is navigated to the Metrics page, displaying a list of existing metrics."
        },
        {
          "step": 7,
          "action": "Click the 'Add Metric' button.",
          "expected_result": "The metric creation form/modal appears."
        },
        {
          "step": 8,
          "action": "Enter the metric name in the 'Name' input field.",
          "expected_result": "The specified metric name is entered into the field."
        },
        {
          "step": 9,
          "action": "Select 'Formula' from the 'Value Source' dropdown.",
          "expected_result": "The 'Value Source' field updates to 'Formula'."
        },
        {
          "step": 10,
          "action": "Verify the Formula Builder interface is visible.",
          "expected_result": "The Formula Builder section with a 'Search Metric' input field and operator buttons is displayed."
        },
        {
          "step": 11,
          "action": "Search for the first metric by name and select it from the results.",
          "expected_result": "The selected metric appears as the first part of the formula in the display area."
        },
        {
          "step": 12,
          "action": "Click on the desired operator button (e.g., '+').",
          "expected_result": "The selected operator appears in the formula display area next to the first metric."
        },
        {
          "step": 13,
          "action": "Search for the second metric by name and select it from the results.",
          "expected_result": "The selected metric appears as the second part of the formula."
        },
        {
          "step": 14,
          "action": "Verify the complete formula is displayed correctly in the format: (Metric) [Operator] (Metric).",
          "expected_result": "The formula display area shows the complete and correct formula."
        },
        {
          "step": 15,
          "action": "Select 'Weekly' from the 'Cadence' dropdown.",
          "expected_result": "The cadence is set to 'Weekly'."
        },
        {
          "step": 16,
          "action": "Verify the 'Resets On' dropdown appears and select a day of the week.",
          "expected_result": "The 'Resets On' dropdown is visible, and a day is successfully selected."
        },
        {
          "step": 17,
          "action": "Click the green checkmark button to confirm the formula.",
          "expected_result": "The formula is validated and accepted by the system."
        },
        {
          "step": 18,
          "action": "Click the 'Save' button to create the metric.",
          "expected_result": "The metric is saved, and the user is returned to the Metrics page, where the new metric is visible in the list."
        },
        {
          "step": 19,
          "action": "Navigate to 'My Dashboard' from the main navigation menu.",
          "expected_result": "The 'My Dashboard' page loads, showing the 'My KPIs' section."
        },
        {
          "step": 20,
          "action": "Click the 'Edit KPI' icon in the 'My KPIs' section.",
          "expected_result": "The KPI management modal opens, showing available metrics on the left and selected KPIs on the right."
        },
        {
          "step": 21,
          "action": "Locate the newly created metric in the left panel of available metrics.",
          "expected_result": "The new metric is found and is visible in the left panel."
        },
        {
          "step": 22,
          "action": "Click the metric in the left panel.",
          "expected_result": "The metric is moved from the left panel to the right panel (selected KPIs)."
        },
        {
          "step": 23,
          "action": "Click the 'Save' button in the modal.",
          "expected_result": "The modal closes, and the dashboard begins to refresh."
        },
        {
          "step": 24,
          "action": "Wait for the dashboard to refresh and render all KPI cards.",
          "expected_result": "The dashboard is fully loaded, and the new metric card is visible in the 'My KPIs' section."
        },
        {
          "step": 25,
          "action": "Locate the correct metric card for the newly added metric.",
          "expected_result": "The specific metric card is successfully identified on the dashboard."
        },
        {
          "step": 26,
          "action": "Hover the mouse cursor over the metric card.",
          "expected_result": "The three-dot menu button becomes visible on the metric card."
        },
        {
          "step": 27,
          "action": "Click the three-dot menu button.",
          "expected_result": "A dropdown menu opens with options."
        },
        {
          "step": 28,
          "action": "Verify the dropdown menu is active and visible.",
          "expected_result": "The dropdown menu containing 'Edit' is displayed."
        },
        {
          "step": 29,
          "action": "Click the 'Edit' option from the dropdown menu.",
          "expected_result": "The user is navigated to the Edit page for the selected metric."
        },
        {
          "step": 30,
          "action": "Wait for the Edit page to load completely.",
          "expected_result": "The Edit page, showing the metric's name and configuration tabs, is fully loaded."
        },
        {
          "step": 31,
          "action": "Select the 'Target' tab if it is not already active.",
          "expected_result": "The 'Target' configuration section is displayed, showing target type radio buttons."
        },
        {
          "step": 32,
          "action": "Select the 'Custom' radio button.",
          "expected_result": "The four custom target input fields (Level 1, Level 2, Level 3, Level 4) appear."
        },
        {
          "step": 33,
          "action": "Enter the Level 1, Level 2, Level 3, and Level 4 target values into their respective fields.",
          "expected_result": "All four target values are entered correctly into the input fields."
        },
        {
          "step": 34,
          "action": "Click the 'Save' button to save the target configuration.",
          "expected_result": "The target configuration is saved, and the page navigates back to the dashboard."
        },
        {
          "step": 35,
          "action": "Verify the metric card on the dashboard now displays the custom target indicators.",
          "expected_result": "The metric card visually reflects the configured custom target levels (e.g., color zones, level markers)."
        },
        {
          "step": 36,
          "action": "Perform a final verification of the metric card's name, value, and target visualization.",
          "expected_result": "The metric card displays the correct name, current value, and an accurate representation of the custom target."
        }
      ]
    },
    {
      "id": "TC002",
      "scenario_id": "TS002",
      "name": "E2E - Create Metric from Existing Metric with Monthly Cadence and Time-Based Target",
      "preconditions": [
        "A valid, active user account with the specified credentials must exist.",
        "The user must have access to the specified company.",
        "The prerequisite metric ('Metric to Select') must exist in the system.",
        "The application environment at the specified base_url must be stable and accessible."
      ],
      "test_data": {
        "base_url": "https://alignwebdev.aligntoday.com/",
        "test_user_email": "sudhirbd@gmail.com",
        "test_user_password": "Mindlinks2025#",
        "company_name": "[Your company name]",
        "metric_name": "Monthly Leads Metric",
        "value_source": "Metric",
        "metric_to_select": "[Name of existing metric]",
        "cadence": "Monthly",
        "target_type": "Time-Based",
        "time_based_start_value": "[Starting value]",
        "time_based_target_value": "[Target value to achieve]"
      },
      "test_steps": [
        {
          "step": 1,
          "action": "Navigate to the Application URL.",
          "expected_result": "The login page is displayed successfully."
        },
        {
          "step": 2,
          "action": "Enter the user's email address and click 'Continue'.",
          "expected_result": "The password input field appears."
        },
        {
          "step": 3,
          "action": "Enter the user's password and click 'Login'.",
          "expected_result": "The user is authenticated and the company selection page loads."
        },
        {
          "step": 4,
          "action": "Select the specified company from the list.",
          "expected_result": "The company is selected and the user is redirected to the dashboard."
        },
        {
          "step": 5,
          "action": "Verify the dashboard page is displayed after successful login.",
          "expected_result": "The main dashboard is visible."
        },
        {
          "step": 6,
          "action": "Navigate to the Metrics page via the navigation menu.",
          "expected_result": "The Metrics page loads, showing a list of metrics."
        },
        {
          "step": 7,
          "action": "Click the 'Add Metric' button.",
          "expected_result": "The metric creation form appears."
        },
        {
          "step": 8,
          "action": "Enter the metric name.",
          "expected_result": "The name is entered in the 'Name' field."
        },
        {
          "step": 9,
          "action": "Select 'Metric' from the 'Value Source' dropdown.",
          "expected_result": "The metric selection interface becomes visible."
        },
        {
          "step": 10,
          "action": "Search for and select a valid existing metric from the metric selection interface.",
          "expected_result": "The selected existing metric is displayed as the source."
        },
        {
          "step": 11,
          "action": "Select 'Monthly' from the 'Cadence' dropdown.",
          "expected_result": "The cadence is set to 'Monthly', and the 'Resets On' field is not displayed."
        },
        {
          "step": 12,
          "action": "Click the 'Save' button to create the metric.",
          "expected_result": "The new metric is saved successfully."
        },
        {
          "step": 13,
          "action": "Navigate to 'My Dashboard' from the main navigation.",
          "expected_result": "The 'My Dashboard' page loads."
        },
        {
          "step": 14,
          "action": "Click the 'Edit KPI' icon.",
          "expected_result": "The KPI management modal opens."
        },
        {
          "step": 15,
          "action": "Locate the newly created metric in the left panel of available metrics.",
          "expected_result": "The new metric is found in the list."
        },
        {
          "step": 16,
          "action": "Click the metric in the left panel to move it to the right panel.",
          "expected_result": "The metric appears in the right panel of selected KPIs."
        },
        {
          "step": 17,
          "action": "Click the 'Save' button in the modal.",
          "expected_result": "The modal closes and the dashboard refreshes."
        },
        {
          "step": 18,
          "action": "Wait for the dashboard to refresh and locate the correct metric card.",
          "expected_result": "The new metric card is visible on the dashboard."
        },
        {
          "step": 19,
          "action": "Hover over the metric card and click the three-dot menu button.",
          "expected_result": "The dropdown menu opens."
        },
        {
          "step": 20,
          "action": "Click the 'Edit' option from the dropdown menu.",
          "expected_result": "The user is navigated to the Edit page for the metric."
        },
        {
          "step": 21,
          "action": "Wait for the Edit page to load and select the 'Target' tab.",
          "expected_result": "The 'Target' configuration section is displayed."
        },
        {
          "step": 22,
          "action": "Select the 'Time-Based' radio button.",
          "expected_result": "The 'Start' and 'Target' input fields appear."
        },
        {
          "step": 23,
          "action": "Enter the Start value in the 'Start' input field.",
          "expected_result": "The start value is entered correctly."
        },
        {
          "step": 24,
          "action": "Enter the Target value in the 'Target' input field.",
          "expected_result": "The target value is entered correctly."
        },
        {
          "step": 25,
          "action": "Click the 'Save' button to save the target configuration.",
          "expected_result": "The target is saved, and the page navigates back to the dashboard."
        },
        {
          "step": 26,
          "action": "Verify the metric card on the dashboard now displays the time-based progress indicator.",
          "expected_result": "The metric card shows a progress bar, along with the start and target values."
        },
        {
          "step": 27,
          "action": "Perform a final verification of the metric card's name, value, and target visualization.",
          "expected_result": "The metric card displays the correct name, value, and an accurate representation of the time-based target."
        }
      ]
    },
    {
      "id": "TC003",
      "scenario_id": "TS003",
      "name": "Functional - Create Formula Metric with Quarterly Cadence and Add to Dashboard",
      "preconditions": [
        "A valid, active user account with the specified credentials must exist.",
        "The user must have access to the specified company.",
        "The prerequisite metrics ('First Metric', 'Second Metric') must exist in the system and be searchable.",
        "The application environment at the specified base_url must be stable and accessible."
      ],
      "test_data": {
        "base_url": "https://alignwebdev.aligntoday.com/",
        "test_user_email": "sudhirbd@gmail.com",
        "test_user_password": "Mindlinks2025#",
        "company_name": "[Your company name]",
        "metric_name": "Quarterly Revenue Formula",
        "value_source": "Formula",
        "cadence": "Quarterly",
        "first_metric": "[Name of a valid, existing metric]",
        "operator": "*",
        "second_metric": "[Name of a second valid, existing metric]",
        "target_type": "None"
      },
      "test_steps": [
        {
          "step": 1,
          "action": "Navigate to the Application URL and log in with valid credentials.",
          "expected_result": "User is successfully logged in."
        },
        {
          "step": 2,
          "action": "Select the specified company from the list.",
          "expected_result": "The company dashboard is displayed."
        },
        {
          "step": 3,
          "action": "Navigate to the Metrics page from the main menu.",
          "expected_result": "The Metrics page is displayed."
        },
        {
          "step": 4,
          "action": "Click the 'Add Metric' button.",
          "expected_result": "The metric creation form opens."
        },
        {
          "step": 5,
          "action": "Enter the metric name.",
          "expected_result": "The name is entered in the 'Name' field."
        },
        {
          "step": 6,
          "action": "Select 'Formula' from the 'Value Source' dropdown.",
          "expected_result": "The Formula Builder interface is displayed."
        },
        {
          "step": 7,
          "action": "Search for and select the first metric for the formula.",
          "expected_result": "The first metric is added to the formula."
        },
        {
          "step": 8,
          "action": "Click on an operator button (e.g., '*').",
          "expected_result": "The operator is added to the formula."
        },
        {
          "step": 9,
          "action": "Search for and select the second metric for the formula.",
          "expected_result": "The second metric is added, completing the formula."
        },
        {
          "step": 10,
          "action": "Select 'Quarterly' from the 'Cadence' dropdown.",
          "expected_result": "The cadence is set to 'Quarterly'. The 'Resets On' field is not visible."
        },
        {
          "step": 11,
          "action": "Click the green checkmark button to confirm the formula.",
          "expected_result": "The formula is validated."
        },
        {
          "step": 12,
          "action": "Click the 'Save' button to create the metric.",
          "expected_result": "The metric is created successfully and appears in the metrics list."
        },
        {
          "step": 13,
          "action": "Navigate to 'My Dashboard'.",
          "expected_result": "The 'My Dashboard' page is displayed."
        },
        {
          "step": 14,
          "action": "Click the 'Edit KPI' icon.",
          "expected_result": "The KPI management modal opens."
        },
        {
          "step": 15,
          "action": "Locate the newly created metric in the left panel.",
          "expected_result": "The new metric is visible in the available metrics list."
        },
        {
          "step": 16,
          "action": "Click the metric to add it to the right panel.",
          "expected_result": "The metric moves to the selected KPIs panel."
        },
        {
          "step": 17,
          "action": "Click the 'Save' button in the modal.",
          "expected_result": "The modal closes and the dashboard refreshes to show the new KPI."
        },
        {
          "step": 18,
          "action": "Locate the correct metric card on the dashboard.",
          "expected_result": "The metric card for the newly added metric is visible on the dashboard."
        },
        {
          "step": 19,
          "action": "Verify the metric card is displayed correctly with its name and current value, but without any target indicators.",
          "expected_result": "The metric card shows the correct name and value, and does not display any progress bars or target level indicators."
        }
      ]
    }
  ]
}