{
  "scenarios": [
    {
      "id": "TS001",
      "name": "E2E - Create Formula Metric with Weekly Cadence and Custom Target",
      "description": "This scenario verifies the complete end-to-end happy path for a user creating a new metric using a formula, setting a weekly cadence which reveals the 'Resets On' field, adding the metric to 'My KPIs' on the dashboard, and successfully configuring a multi-level Custom Target.",
      "category": "End-to-End (E2E) Testing",
      "priority": "High",
      "user_journey": [
        "Step 1: Navigate to the Application and verify the login page is displayed.",
        "Step 2: Enter the user's email address and click 'Continue'.",
        "Step 3: Enter the user's password and click 'Login'.",
        "Step 4: Select the specified company from the list.",
        "Step 5: Verify the dashboard page is displayed after successful login.",
        "Step 6: Navigate to the Metrics page via the navigation menu.",
        "Step 7: Click the 'Add Metric' button to open the creation form.",
        "Step 8: Enter the metric name.",
        "Step 9: Select 'Formula' from the 'Value Source' dropdown.",
        "Step 10: Verify the Formula Builder interface is visible.",
        "Step 11: Search for and select the first metric for the formula.",
        "Step 12: Click on the desired operator button.",
        "Step 13: Search for and select the second metric for the formula.",
        "Step 14: Verify the complete formula is displayed correctly.",
        "Step 14A: Select 'Weekly' from the 'Cadence' dropdown.",
        "Step 14B: Verify the 'Resets On' dropdown appears and select a day of the week.",
        "Step 15: Click the green checkmark button to confirm the formula.",
        "Step 17: Click the 'Save' button to create the metric.",
        "Step 18: Navigate to 'My Dashboard' from the main navigation.",
        "Step 19: Click the 'Edit KPI' icon to open the KPI management modal.",
        "Step 21: Locate the newly created metric in the left panel of available metrics.",
        "Step 22: Click the metric in the left panel to move it to the right panel (selected KPIs).",
        "Step 23: Click the 'Save' button in the modal to update the dashboard KPIs.",
        "Step 24: Wait for the dashboard to refresh and render all KPI cards.",
        "Step 25: Locate the correct metric card for the newly added metric.",
        "Step 26: Hover over the metric card to reveal the three-dot menu button.",
        "Step 27: Click the three-dot menu button to open the dropdown menu.",
        "Step 28: Identify the active dropdown menu.",
        "Step 29: Click the 'Edit' option from the dropdown menu.",
        "Step 30: Wait for the Edit page to load completely.",
        "Step 31: Select the 'Target' tab if it is not already active.",
        "Step 32A.1: Select the 'Custom' radio button.",
        "Step 32A.2: Verify the four custom target input fields appear.",
        "Step 32A.3: Enter the Level 1 target value.",
        "Step 32A.4: Enter the Level 2 target value.",
        "Step 32A.5: Enter the Level 3 target value.",
        "Step 32A.6: Enter the Level 4 target value.",
        "Step 33: Click the 'Save' button to save the target configuration.",
        "Step 34: Wait for the page to navigate back to the dashboard.",
        "Step 35: Verify the metric card on the dashboard now displays the custom target indicators.",
        "Step 36: Perform a final verification of the metric card's name, value, and target visualization."
      ],
      "acceptance_criteria": [
        "User successfully logs in and navigates to the Metrics page.",
        "A new metric is created using a valid formula with two existing metrics.",
        "Selecting 'Weekly' cadence correctly displays the 'Resets On' dropdown.",
        "The newly created metric is successfully added to the 'My KPIs' section on the dashboard.",
        "The 'Edit' option from the metric card's three-dot menu successfully navigates to the edit page.",
        "Selecting the 'Custom' target type correctly displays four input fields.",
        "The four custom target values are successfully entered and saved.",
        "After saving, the user is redirected to the dashboard.",
        "The metric card on the dashboard visually reflects the configured custom target levels."
      ],
      "test_data_requirements": [
        "value_source: 'Formula'",
        "cadence: 'Weekly'",
        "resets_on: A valid day of the week (e.g., 'Monday')",
        "first_metric: Name of a valid, existing metric",
        "operator: A valid operator (e.g., '+')",
        "second_metric: Name of a second valid, existing metric",
        "target_type: 'Custom'",
        "custom_target_values: 4 valid, descending numeric values"
      ]
    },
    {
      "id": "TS002",
      "name": "E2E - Create Metric from Existing Metric with Monthly Cadence and Time-Based Target",
      "description": "This scenario verifies the happy path where a user creates a new metric by referencing an existing metric, sets a monthly cadence, adds it to the dashboard, and successfully configures a Time-Based target with a start and end value.",
      "category": "End-to-End (E2E) Testing",
      "priority": "High",
      "user_journey": [
        "Step 1: Navigate to the Application and verify the login page is displayed.",
        "Step 2: Enter the user's email address and click 'Continue'.",
        "Step 3: Enter the user's password and click 'Login'.",
        "Step 4: Select the specified company from the list.",
        "Step 5: Verify the dashboard page is displayed after successful login.",
        "Step 6: Navigate to the Metrics page via the navigation menu.",
        "Step 7: Click the 'Add Metric' button to open the creation form.",
        "Step 8: Enter the metric name.",
        "Step 9: Select 'Metric' from the 'Value Source' dropdown.",
        "Step 10-ALT: Verify the metric selection interface is visible.",
        "Step 11-ALT: Search for and select a valid existing metric.",
        "Step 14A: Select 'Monthly' from the 'Cadence' dropdown.",
        "Step 17: Click the 'Save' button to create the metric.",
        "Step 18: Navigate to 'My Dashboard' from the main navigation.",
        "Step 19: Click the 'Edit KPI' icon to open the KPI management modal.",
        "Step 21: Locate the newly created metric in the left panel of available metrics.",
        "Step 22: Click the metric in the left panel to move it to the right panel.",
        "Step 23: Click the 'Save' button in the modal to update the dashboard KPIs.",
        "Step 24: Wait for the dashboard to refresh and render all KPI cards.",
        "Step 25: Locate the correct metric card for the newly added metric.",
        "Step 26: Hover over the metric card to reveal the three-dot menu button.",
        "Step 27: Click the three-dot menu button to open the dropdown menu.",
        "Step 29: Click the 'Edit' option from the dropdown menu.",
        "Step 30: Wait for the Edit page to load completely.",
        "Step 31: Select the 'Target' tab if it is not already active.",
        "Step 32B.1: Select the 'Time-Based' radio button.",
        "Step 32B.2: Verify the 'Start' and 'Target' input fields appear.",
        "Step 32B.3: Enter the Start value.",
        "Step 32B.4: Enter the Target value.",
        "Step 33: Click the 'Save' button to save the target configuration.",
        "Step 34: Wait for the page to navigate back to the dashboard.",
        "Step 35: Verify the metric card on the dashboard now displays the time-based progress indicator.",
        "Step 36: Perform a final verification of the metric card's name, value, and target visualization."
      ],
      "acceptance_criteria": [
        "User successfully logs in and creates a new metric based on an existing metric.",
        "The 'Resets On' field is not displayed for 'Monthly' cadence.",
        "The new metric is successfully saved and can be found in the KPI management modal.",
        "The metric is successfully added to the 'My KPIs' section of the dashboard.",
        "Selecting the 'Time-Based' target type correctly displays 'Start' and 'Target' input fields.",
        "The Start and Target values are successfully entered and saved.",
        "After saving, the user is redirected to the dashboard.",
        "The metric card on the dashboard visually reflects the configured time-based target, showing start and target values and a progress indicator."
      ],
      "test_data_requirements": [
        "value_source: 'Metric'",
        "metric_to_select: Name of a valid, existing metric",
        "cadence: 'Monthly'",
        "target_type: 'Time-Based'",
        "time_based_start_value: A valid starting numeric value",
        "time_based_target_value: A valid target numeric value, greater than the start value"
      ]
    },
    {
      "id": "TS003",
      "name": "Functional - Create Formula Metric with Quarterly Cadence and Add to Dashboard",
      "description": "This scenario focuses on the successful creation of a formula-based metric with a quarterly cadence and verifies that it can be added to the dashboard. This test confirms the core creation and dashboard management flow without configuring a target.",
      "category": "Functional Testing",
      "priority": "High",
      "user_journey": [
        "Step 1: Navigate to the Application and log in.",
        "Step 4: Select the specified company.",
        "Step 6: Navigate to the Metrics page.",
        "Step 7: Click the 'Add Metric' button.",
        "Step 8: Enter the metric name.",
        "Step 9: Select 'Formula' from the 'Value Source' dropdown.",
        "Step 11: Search for and select the first metric for the formula.",
        "Step 12: Click on an operator button.",
        "Step 13: Search for and select the second metric for the formula.",
        "Step 14A: Select 'Quarterly' from the 'Cadence' dropdown.",
        "Step 15: Click the green checkmark button to confirm the formula.",
        "Step 17: Click the 'Save' button to create the metric.",
        "Step 18: Navigate to 'My Dashboard'.",
        "Step 19: Click the 'Edit KPI' icon.",
        "Step 21: Locate the newly created metric in the left panel.",
        "Step 22: Click the metric to add it to the right panel.",
        "Step 23: Click the 'Save' button in the modal.",
        "Step 24: Wait for the dashboard to refresh.",
        "Step 25: Locate the correct metric card on the dashboard.",
        "Step 36: Verify the metric card is displayed correctly with its name and current value, but without any target indicators."
      ],
      "acceptance_criteria": [
        "A new metric with a 'Quarterly' cadence is created successfully using the Formula Builder.",
        "The created metric appears in the list of available KPIs in the 'Edit KPI' modal.",
        "The metric is successfully added to the 'My KPIs' section on the dashboard after saving.",
        "The metric card is visible on the dashboard and displays the correct name.",
        "The metric card does not display any target-related visualizations (e.g., progress bars, level indicators)."
      ],
      "test_data_requirements": [
        "value_source: 'Formula'",
        "cadence: 'Quarterly'",
        "first_metric: Name of a valid, existing metric",
        "operator: A valid operator (e.g., '*')",
        "second_metric: Name of a second valid, existing metric",
        "target_type: 'None' or leave empty"
      ]
    }
  ],
  "dependencies": [
    "A valid, active user account with the specified credentials must exist.",
    "The user must have access to the specified company.",
    "For scenarios using 'Value Source: Formula', the prerequisite metrics ('First Metric', 'Second Metric') must exist in the system and be searchable.",
    "For scenarios using 'Value Source: Metric', the prerequisite metric ('Metric to Select') must exist in the system.",
    "The application environment at the specified base_url must be stable and accessible."
  ],
  "edge_cases": [
    "Successfully identifying and interacting with the correct metric card when multiple cards with the same name exist from previous test runs (e.g., by selecting the last one in the DOM).",
    "Successfully creating a metric where the name is the maximum allowed character length.",
    "Successfully using a formula where the prerequisite metrics are the first or last items in the search result list."
  ],
  "test_data": {
    "base_url": "https://alignwebdev.aligntoday.com/",
    "test_user_email": "sudhirbd@gmail.com",
    "test_user_password": "Mindlinks2025#",
    "company_name": "[Your company name]",
    "metric_name": "[Name of the metric to be created]",
    "value_source": "[Formula or Metric]",
    "format": "Number",
    "cadence": "[Weekly, Monthly, Quarterly, or Yearly]",
    "resets_on": "[Day of week - only if Cadence = Weekly]",
    "first_metric": "[Name of first metric to use in formula]",
    "operator": "[+, -, /, *, (, )]",
    "second_metric": "[Name of second metric to use in formula]",
    "metric_to_select": "[Name of existing metric]",
    "target_type": "[Custom or Time-Based]",
    "custom_target_values": "[4 values from highest to lowest - Level 1, Level 2, Level 3, Level 4]",
    "time_based_start_value": "[Starting value]",
    "time_based_target_value": "[Target value to achieve]"
  }
}