{
  "scenarios": [
    {
      "id": "TS001",
      "name": "Create Formula Metric with Weekly Cadence and Custom Target",
      "description": "This end-to-end scenario verifies the successful creation of a new metric using the Formula Builder, setting a Weekly cadence which reveals the 'Resets On' field, adding the metric to 'My KPIs' on the dashboard, and configuring a 4-level Custom Target.",
      "category": "End-to-End (E2E) Testing",
      "priority": "High",
      "user_journey": [
        "Step 1: Navigate to the Application and verify the login page.",
        "Step 2: Enter the user's email address and click 'Continue'.",
        "Step 3: Enter the user's password and click 'Login'.",
        "Step 4: Select the specified company from the list.",
        "Step 5: Verify the dashboard page is displayed after successful login.",
        "Step 6: Navigate to the Metrics page via the navigation menu.",
        "Step 7: Click the 'Add Metric' button to open the creation form.",
        "Step 8: Enter the metric name.",
        "Step 9: Select 'Formula' from the 'Value Source' dropdown.",
        "Step 10: Verify the 'Formula Builder' interface is visible.",
        "Step 11: Search for and select the first metric for the formula.",
        "Step 12: Select a mathematical operator.",
        "Step 13: Search for and select the second metric for the formula.",
        "Step 14: Verify the complete formula is displayed correctly.",
        "Step 14A: Select 'Weekly' from the 'Cadence' dropdown.",
        "Step 14B: Verify the 'Resets On' dropdown appears and select a day of the week.",
        "Step 15: Click the green checkmark button to confirm the formula.",
        "Step 17: Click the 'Save' button to create the metric.",
        "Step 18: Navigate to 'My Dashboard'.",
        "Step 19: Click the 'Edit KPI' icon to open the modal.",
        "Step 21: Locate the newly created metric in the left panel.",
        "Step 22: Click the metric to add it to the right panel (selected KPIs).",
        "Step 23: Click 'Save' in the modal to update the dashboard KPIs.",
        "Step 25: Locate the correct metric card on the dashboard.",
        "Step 26: Hover over the metric card to reveal the three-dot menu button.",
        "Step 27: Click the three-dot menu button to open the dropdown.",
        "Step 28: Identify the active dropdown menu.",
        "Step 29: Click the 'Edit' option from the dropdown.",
        "Step 30: Wait for the Edit page to load completely.",
        "Step 31: Select the 'Target' tab.",
        "Step 32A.1: Select the 'Custom' radio button.",
        "Step 32A.2: Verify the four custom target input fields appear.",
        "Step 32A.3: Enter the Level 1 target value.",
        "Step 32A.4: Enter the Level 2 target value.",
        "Step 32A.5: Enter the Level 3 target value.",
        "Step 32A.6: Enter the Level 4 target value.",
        "Step 33: Click the 'Save' button to save the target configuration.",
        "Step 34: Wait for the page to navigate back to the dashboard.",
        "Step 35: Verify the metric card on the dashboard displays the custom target indicators.",
        "Step 36: Perform a final verification of the metric card's name, value, and target visualization."
      ],
      "acceptance_criteria": [
        "User successfully logs in and navigates to the Metrics page.",
        "A new metric is created using a formula with two existing metrics.",
        "The 'Resets On' dropdown is visible and functional when 'Weekly' cadence is selected.",
        "The new metric is successfully added to the 'My KPIs' section of the dashboard.",
        "The user can successfully navigate to the metric's edit page from the dashboard card.",
        "A 'Custom' target with four performance levels is successfully configured and saved.",
        "The metric card on the dashboard updates to visually represent the configured custom target."
      ],
      "test_data_requirements": [
        "value_source: 'Formula'",
        "cadence: 'Weekly'",
        "resets_on: A valid day of the week (e.g., 'Monday')",
        "first_metric: Name of a valid, existing metric",
        "operator: A valid operator (e.g., '+')",
        "second_metric: Name of a second valid, existing metric",
        "target_type: 'Custom'",
        "custom_target_values: Four descending numeric values for Level 1 to Level 4"
      ]
    },
    {
      "id": "TS002",
      "name": "Create Metric from Existing Metric with Monthly Cadence and Time-Based Target",
      "description": "This end-to-end scenario verifies the successful creation of a new metric using an existing metric as its source, setting a Monthly cadence, adding it to the dashboard, and configuring a Time-Based Target with a start and target value.",
      "category": "End-to-End (E2E) Testing",
      "priority": "High",
      "user_journey": [
        "Step 1: Navigate to the Application and verify the login page.",
        "Step 2: Enter the user's email address and click 'Continue'.",
        "Step 3: Enter the user's password and click 'Login'.",
        "Step 4: Select the specified company from the list.",
        "Step 5: Verify the dashboard page is displayed after successful login.",
        "Step 6: Navigate to the Metrics page via the navigation menu.",
        "Step 7: Click the 'Add Metric' button to open the creation form.",
        "Step 8: Enter the metric name.",
        "Step 9: Select 'Metric' from the 'Value Source' dropdown.",
        "Step 10-ALT: Verify the metric selection interface is visible.",
        "Step 11-ALT: Search for and select an existing metric.",
        "Step 14A: Select 'Monthly' from the 'Cadence' dropdown.",
        "Step 17: Click the 'Save' button to create the metric.",
        "Step 18: Navigate to 'My Dashboard'.",
        "Step 19: Click the 'Edit KPI' icon to open the modal.",
        "Step 21: Locate the newly created metric in the left panel.",
        "Step 22: Click the metric to add it to the right panel (selected KPIs).",
        "Step 23: Click 'Save' in the modal to update the dashboard KPIs.",
        "Step 25: Locate the correct metric card on the dashboard.",
        "Step 26: Hover over the metric card to reveal the three-dot menu button.",
        "Step 27: Click the three-dot menu button to open the dropdown.",
        "Step 29: Click the 'Edit' option from the dropdown.",
        "Step 30: Wait for the Edit page to load completely.",
        "Step 31: Select the 'Target' tab.",
        "Step 32B.1: Select the 'Time-Based' radio button.",
        "Step 32B.2: Verify the 'Start' and 'Target' input fields appear.",
        "Step 32B.3: Enter the 'Start' value.",
        "Step 32B.4: Enter the 'Target' value.",
        "Step 33: Click the 'Save' button to save the target configuration.",
        "Step 34: Wait for the page to navigate back to the dashboard.",
        "Step 35: Verify the metric card on the dashboard displays the time-based progress indicator.",
        "Step 36: Perform a final verification of the metric card's name, value, and target visualization."
      ],
      "acceptance_criteria": [
        "User successfully logs in and navigates to the Metrics page.",
        "A new metric is created using an existing metric as the value source.",
        "The 'Resets On' dropdown does not appear for 'Monthly' cadence.",
        "The new metric is successfully added to the 'My KPIs' section of the dashboard.",
        "A 'Time-Based' target with start and target values is successfully configured and saved.",
        "The metric card on the dashboard updates to visually represent the configured time-based target, showing a progress indicator."
      ],
      "test_data_requirements": [
        "value_source: 'Metric'",
        "cadence: 'Monthly'",
        "metric_to_select: Name of a valid, existing metric",
        "target_type: 'Time-Based'",
        "time_based_start_value: A numeric starting value",
        "time_based_target_value: A numeric target value greater than the start value"
      ]
    },
    {
      "id": "TS003",
      "name": "Create Formula Metric with Quarterly Cadence and Add to Dashboard without a Target",
      "description": "This scenario verifies the successful creation of a formula-based metric and adding it to the dashboard without configuring any target. This confirms the core creation and dashboard management flow works independently of target setting.",
      "category": "Functional Testing",
      "priority": "Medium",
      "user_journey": [
        "Step 1: Navigate to the Application and verify the login page.",
        "Step 2: Enter the user's email address and click 'Continue'.",
        "Step 3: Enter the user's password and click 'Login'.",
        "Step 4: Select the specified company from the list.",
        "Step 6: Navigate to the Metrics page via the navigation menu.",
        "Step 7: Click the 'Add Metric' button.",
        "Step 8: Enter the metric name.",
        "Step 9: Select 'Formula' from the 'Value Source' dropdown.",
        "Step 11: Search for and select the first metric for the formula.",
        "Step 12: Select a mathematical operator.",
        "Step 13: Search for and select the second metric for the formula.",
        "Step 14A: Select 'Quarterly' from the 'Cadence' dropdown.",
        "Step 15: Click the green checkmark button to confirm the formula.",
        "Step 17: Click the 'Save' button to create the metric.",
        "Step 18: Navigate to 'My Dashboard'.",
        "Step 19: Click the 'Edit KPI' icon to open the modal.",
        "Step 21: Locate the newly created metric in the left panel.",
        "Step 22: Click the metric to add it to the right panel.",
        "Step 23: Click 'Save' in the modal to update the dashboard KPIs.",
        "Step 25: Locate the correct metric card on the dashboard.",
        "Step 36: Verify the metric card is displayed correctly with its name and value, but without any target-related visual indicators."
      ],
      "acceptance_criteria": [
        "A new metric is successfully created using the Formula Builder.",
        "The metric is successfully added to the 'My KPIs' section on the dashboard.",
        "The metric card appears on the dashboard as expected.",
        "The metric card does not display any target visualization (e.g., progress bars, level indicators), as none was configured."
      ],
      "test_data_requirements": [
        "value_source: 'Formula'",
        "cadence: 'Quarterly'",
        "first_metric: Name of a valid, existing metric",
        "operator: A valid operator (e.g., '*')",
        "second_metric: Name of a second valid, existing metric",
        "target_type: 'None' (or leave target-related fields empty)"
      ]
    }
  ],
  "dependencies": [
    "The test environment must have pre-existing metrics that can be used for formula creation ('First Metric', 'Second Metric') and for selection when the value source is 'Metric'.",
    "The test user account ('sudhirbd@gmail.com') must have the necessary permissions to create metrics, edit dashboards, and configure targets within the specified company.",
    "The application's backend services for authentication, metric creation, and dashboard configuration must be available and functioning correctly."
  ],
  "edge_cases": [
    "Successfully locating and interacting with the correct metric card when multiple cards with the exact same name exist from previous test runs, relying on the 'select the last one' logic.",
    "Successfully creating a metric where the name is very long or contains special characters (spaces, hyphens, underscores) as allowed.",
    "Successfully building a formula that uses the same metric twice (e.g., 'Metric A' * 'Metric A')."
  ],
  "test_data": {
    "base_url": "https://alignwebdev.aligntoday.com/",
    "test_user_email": "sudhirbd@gmail.com",
    "test_user_password": "Mindlinks2025#",
    "company_name": "[Your company name]",
    "metric_name": "[Name of the metric to be created]",
    "value_source": "[Formula or Metric]",
    "format": "Number",
    "cadence": "[Weekly, Monthly, Quarterly, or Yearly]",
    "resets_on": "[Day of week - only if Cadence = Weekly]",
    "first_metric": "[Name of first metric to use in formula]",
    "operator": "[+, -, /, *, (, )]",
    "second_metric": "[Name of second metric to use in formula]",
    "metric_to_select": "[Name of existing metric]",
    "target_type": "[Custom or Time-Based]",
    "custom_target_values": "[4 values from highest to lowest - Level 1, Level 2, Level 3, Level 4]",
    "time_based_start_value": "[Starting value]",
    "time_based_target_value": "[Target value to achieve]"
  }
}