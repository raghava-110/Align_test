{
  "test_cases": [
    {
      "id": "TC001",
      "scenario_id": "TS001",
      "name": "E2E - Create Weekly Formula Metric with Custom Target",
      "preconditions": [
        "A valid test user account with the specified credentials must exist and have access to the specified company.",
        "The application must be available at the provided base URL.",
        "The prerequisite metrics ('First Metric', 'Second Metric') must already exist in the system and be accessible to the test user."
      ],
      "test_data": {
        "base_url": "https://alignwebdev.aligntoday.com/",
        "test_user_email": "sudhirbd@gmail.com",
        "test_user_password": "Mindlinks2025#",
        "company_name": "[Your company name]",
        "metric_name": "Weekly Sales Formula (Custom Target)",
        "value_source": "Formula",
        "cadence": "Weekly",
        "resets_on": "Monday",
        "first_metric": "[Name of first metric to use in formula]",
        "operator": "+",
        "second_metric": "[Name of second metric to use in formula]",
        "target_type": "Custom",
        "custom_target_values": [
          400,
          300,
          200,
          100
        ]
      },
      "test_steps": [
        {
          "step": 1,
          "action": "Navigate to the Application and verify the login page is displayed.",
          "expected_result": "The application login page is displayed successfully."
        },
        {
          "step": 2,
          "action": "Enter the user's email address and click 'Continue'.",
          "expected_result": "The password input field is displayed."
        },
        {
          "step": 3,
          "action": "Enter the user's password and click 'Login'.",
          "expected_result": "The company selection page is displayed."
        },
        {
          "step": 4,
          "action": "Select the specified company from the list.",
          "expected_result": "The company is selected and the user is redirected."
        },
        {
          "step": 5,
          "action": "Verify the dashboard page is displayed after successful login.",
          "expected_result": "The main dashboard page is loaded and visible."
        },
        {
          "step": 6,
          "action": "Navigate to the 'Metrics' page from the navigation menu.",
          "expected_result": "The 'Metrics' page is displayed, showing a list of existing metrics."
        },
        {
          "step": 7,
          "action": "Click the 'Add Metric' button to open the creation form.",
          "expected_result": "The 'Add Metric' form/modal appears."
        },
        {
          "step": 8,
          "action": "Enter the metric name.",
          "expected_result": "The specified metric name is entered into the name field."
        },
        {
          "step": 9,
          "action": "Select 'Formula' from the 'Value Source' dropdown.",
          "expected_result": "The 'Value Source' is set to 'Formula'."
        },
        {
          "step": 10,
          "action": "Verify the 'Formula Builder' interface is visible.",
          "expected_result": "The interface for building a formula is displayed."
        },
        {
          "step": 11,
          "action": "Search for and select the first metric for the formula.",
          "expected_result": "The first metric is successfully added to the formula builder."
        },
        {
          "step": 12,
          "action": "Select a mathematical operator.",
          "expected_result": "The selected operator is added to the formula."
        },
        {
          "step": 13,
          "action": "Search for and select the second metric for the formula.",
          "expected_result": "The second metric is successfully added to the formula builder."
        },
        {
          "step": 14,
          "action": "Verify the complete formula is displayed correctly.",
          "expected_result": "The formula shows '(Metric 1) [Operator] (Metric 2)' correctly."
        },
        {
          "step": 15,
          "action": "Select 'Weekly' from the 'Cadence' dropdown.",
          "expected_result": "The cadence is set to 'Weekly'."
        },
        {
          "step": 16,
          "action": "Verify the 'Resets On' dropdown appears and select a day of the week.",
          "expected_result": "The 'Resets On' dropdown is visible and a day is successfully selected."
        },
        {
          "step": 17,
          "action": "Click the green checkmark button to confirm the formula.",
          "expected_result": "The formula is validated and confirmed."
        },
        {
          "step": 18,
          "action": "Click the 'Save' button to create the metric.",
          "expected_result": "The metric is saved successfully and the user is returned to the Metrics page."
        },
        {
          "step": 19,
          "action": "Navigate to 'My Dashboard'.",
          "expected_result": "The 'My Dashboard' page is displayed."
        },
        {
          "step": 20,
          "action": "Click the 'Edit KPI' button to open the KPI modal.",
          "expected_result": "The 'Edit KPI' modal opens, showing available and selected metrics."
        },
        {
          "step": 21,
          "action": "Locate the newly created metric in the left panel of available metrics.",
          "expected_result": "The new metric is found in the list of available metrics."
        },
        {
          "step": 22,
          "action": "Click the metric in the left panel to add it to the right panel (selected KPIs).",
          "expected_result": "The metric moves from the left panel to the right panel."
        },
        {
          "step": 23,
          "action": "Click the 'Save' button in the modal to add the KPI to the dashboard.",
          "expected_result": "The modal closes and the dashboard refreshes to show the new metric card."
        },
        {
          "step": 24,
          "action": "Wait for the dashboard to render and identify the new metric card.",
          "expected_result": "The new metric card is visible on the dashboard."
        },
        {
          "step": 25,
          "action": "Locate the correct metric card, selecting the last one if duplicates exist.",
          "expected_result": "The correct instance of the metric card is identified."
        },
        {
          "step": 26,
          "action": "Hover over the metric card to reveal the three-dot menu button.",
          "expected_result": "The three-dot menu button becomes visible on the metric card."
        },
        {
          "step": 27,
          "action": "Click the three-dot menu button to open the dropdown menu.",
          "expected_result": "A dropdown menu with options like 'Edit' appears."
        },
        {
          "step": 28,
          "action": "Identify the active dropdown menu.",
          "expected_result": "The correct, active dropdown menu is identified."
        },
        {
          "step": 29,
          "action": "Click the 'Edit' option from the dropdown menu.",
          "expected_result": "The user is navigated to the 'Edit Metric' page for the selected metric."
        },
        {
          "step": 30,
          "action": "Wait for the Edit page to load completely.",
          "expected_result": "The 'Edit Metric' page is fully loaded."
        },
        {
          "step": 31,
          "action": "Select the 'Target' tab.",
          "expected_result": "The target configuration options are displayed."
        },
        {
          "step": 32,
          "action": "Select the 'Custom' radio button.",
          "expected_result": "The 'Custom' target option is selected."
        },
        {
          "step": 33,
          "action": "Verify the four custom target input fields appear.",
          "expected_result": "Input fields for Level 1, Level 2, Level 3, and Level 4 targets are visible."
        },
        {
          "step": 34,
          "action": "Enter the Level 1 target value.",
          "expected_result": "The Level 1 value is entered into its corresponding field."
        },
        {
          "step": 35,
          "action": "Enter the Level 2 target value.",
          "expected_result": "The Level 2 value is entered into its corresponding field."
        },
        {
          "step": 36,
          "action": "Enter the Level 3 target value.",
          "expected_result": "The Level 3 value is entered into its corresponding field."
        },
        {
          "step": 37,
          "action": "Enter the Level 4 target value.",
          "expected_result": "The Level 4 value is entered into its corresponding field."
        },
        {
          "step": 38,
          "action": "Click the 'Save' button to save the target configuration.",
          "expected_result": "The target settings are saved successfully."
        },
        {
          "step": 39,
          "action": "Wait for the page to navigate back to the dashboard.",
          "expected_result": "The user is automatically redirected back to the 'My Dashboard' page."
        },
        {
          "step": 40,
          "action": "Verify the metric card on the dashboard now displays the custom target indicators.",
          "expected_result": "The metric card shows visual indicators (e.g., color zones) for the 4-level custom target."
        },
        {
          "step": 41,
          "action": "Perform a final verification of the metric card's name, value, and target visualization.",
          "expected_result": "The metric card correctly displays the name, current value, and the custom target visualization."
        }
      ]
    },
    {
      "id": "TC002",
      "scenario_id": "TS002",
      "name": "E2E - Create Monthly Formula Metric with Time-Based Target",
      "preconditions": [
        "A valid test user account with the specified credentials must exist and have access to the specified company.",
        "The application must be available at the provided base URL.",
        "The prerequisite metrics ('First Metric', 'Second Metric') must already exist in the system and be accessible to the test user."
      ],
      "test_data": {
        "base_url": "https://alignwebdev.aligntoday.com/",
        "test_user_email": "sudhirbd@gmail.com",
        "test_user_password": "Mindlinks2025#",
        "company_name": "[Your company name]",
        "metric_name": "Monthly Revenue Formula (Time-Based)",
        "value_source": "Formula",
        "cadence": "Monthly",
        "first_metric": "[Name of first metric to use in formula]",
        "operator": "*",
        "second_metric": "[Name of second metric to use in formula]",
        "target_type": "Time-Based",
        "time_based_start_value": 10000,
        "time_based_target_value": 50000
      },
      "test_steps": [
        {
          "step": 1,
          "action": "Navigate to the Application and verify the login page is displayed.",
          "expected_result": "The application login page is displayed successfully."
        },
        {
          "step": 2,
          "action": "Enter the user's email address and click 'Continue'.",
          "expected_result": "The password input field is displayed."
        },
        {
          "step": 3,
          "action": "Enter the user's password and click 'Login'.",
          "expected_result": "The company selection page is displayed."
        },
        {
          "step": 4,
          "action": "Select the specified company from the list.",
          "expected_result": "The company is selected and the user is redirected."
        },
        {
          "step": 5,
          "action": "Verify the dashboard page is displayed after successful login.",
          "expected_result": "The main dashboard page is loaded and visible."
        },
        {
          "step": 6,
          "action": "Navigate to the 'Metrics' page from the navigation menu.",
          "expected_result": "The 'Metrics' page is displayed."
        },
        {
          "step": 7,
          "action": "Click the 'Add Metric' button to open the creation form.",
          "expected_result": "The 'Add Metric' form appears."
        },
        {
          "step": 8,
          "action": "Enter the metric name.",
          "expected_result": "The specified metric name is entered into the name field."
        },
        {
          "step": 9,
          "action": "Select 'Formula' from the 'Value Source' dropdown.",
          "expected_result": "The 'Value Source' is set to 'Formula' and the Formula Builder appears."
        },
        {
          "step": 10,
          "action": "Search for and select the first metric for the formula.",
          "expected_result": "The first metric is added to the formula."
        },
        {
          "step": 11,
          "action": "Select a mathematical operator.",
          "expected_result": "The operator is added to the formula."
        },
        {
          "step": 12,
          "action": "Search for and select the second metric for the formula.",
          "expected_result": "The second metric is added to the formula."
        },
        {
          "step": 13,
          "action": "Select 'Monthly' from the 'Cadence' dropdown.",
          "expected_result": "The cadence is set to 'Monthly' and the 'Resets On' field is not displayed."
        },
        {
          "step": 14,
          "action": "Click the green checkmark button to confirm the formula.",
          "expected_result": "The formula is validated."
        },
        {
          "step": 15,
          "action": "Click the 'Save' button to create the metric.",
          "expected_result": "The metric is saved successfully."
        },
        {
          "step": 16,
          "action": "Navigate to 'My Dashboard'.",
          "expected_result": "The 'My Dashboard' page is displayed."
        },
        {
          "step": 17,
          "action": "Click the 'Edit KPI' button to open the KPI modal.",
          "expected_result": "The 'Edit KPI' modal opens."
        },
        {
          "step": 18,
          "action": "Locate the newly created metric in the left panel of available metrics.",
          "expected_result": "The new metric is found in the available metrics list."
        },
        {
          "step": 19,
          "action": "Click the metric in the left panel to add it to the right panel.",
          "expected_result": "The metric is moved to the selected KPIs panel."
        },
        {
          "step": 20,
          "action": "Click the 'Save' button in the modal to add the KPI to the dashboard.",
          "expected_result": "The modal closes and the dashboard refreshes with the new metric."
        },
        {
          "step": 21,
          "action": "Locate the correct metric card on the dashboard.",
          "expected_result": "The new metric card is visible on the dashboard."
        },
        {
          "step": 22,
          "action": "Hover over the metric card to reveal the three-dot menu button.",
          "expected_result": "The three-dot menu button appears."
        },
        {
          "step": 23,
          "action": "Click the three-dot menu button.",
          "expected_result": "A dropdown menu opens."
        },
        {
          "step": 24,
          "action": "Click the 'Edit' option from the dropdown menu.",
          "expected_result": "The user is navigated to the 'Edit Metric' page."
        },
        {
          "step": 25,
          "action": "Wait for the Edit page to load.",
          "expected_result": "The 'Edit Metric' page loads completely."
        },
        {
          "step": 26,
          "action": "Select the 'Target' tab.",
          "expected_result": "The target configuration options are displayed."
        },
        {
          "step": 27,
          "action": "Select the 'Time-Based' radio button.",
          "expected_result": "The 'Time-Based' target option is selected."
        },
        {
          "step": 28,
          "action": "Verify the 'Start' and 'Target' input fields appear.",
          "expected_result": "Input fields for 'Start' and 'Target' values are visible."
        },
        {
          "step": 29,
          "action": "Enter the Start value.",
          "expected_result": "The start value is entered into its corresponding field."
        },
        {
          "step": 30,
          "action": "Enter the Target value.",
          "expected_result": "The target value is entered into its corresponding field."
        },
        {
          "step": 31,
          "action": "Click the 'Save' button to save the target configuration.",
          "expected_result": "The target settings are saved."
        },
        {
          "step": 32,
          "action": "Wait for the page to navigate back to the dashboard.",
          "expected_result": "The user is redirected back to the 'My Dashboard' page."
        },
        {
          "step": 33,
          "action": "Verify the metric card on the dashboard now displays the Time-Based target indicators (e.g., progress bar, start/target values).",
          "expected_result": "The metric card shows a progress bar and/or start and target values."
        },
        {
          "step": 34,
          "action": "Perform a final verification of the metric card's details.",
          "expected_result": "The metric card correctly displays the name, value, and time-based target visualization."
        }
      ]
    },
    {
      "id": "TC003",
      "scenario_id": "TS003",
      "name": "Functional - Create Metric from Existing Metric and Add to Dashboard",
      "preconditions": [
        "A valid test user account with the specified credentials must exist and have access to the specified company.",
        "The application must be available at the provided base URL.",
        "The prerequisite metric ('Metric to Select') must already exist in the system and be accessible to the test user."
      ],
      "test_data": {
        "base_url": "https://alignwebdev.aligntoday.com/",
        "test_user_email": "sudhirbd@gmail.com",
        "test_user_password": "Mindlinks2025#",
        "company_name": "[Your company name]",
        "metric_name": "Quarterly Customer Count (from Metric)",
        "value_source": "Metric",
        "cadence": "Quarterly",
        "metric_to_select": "[Name of a valid, existing metric]",
        "target_type": "None"
      },
      "test_steps": [
        {
          "step": 1,
          "action": "Navigate to the Application and verify the login page is displayed.",
          "expected_result": "The application login page is displayed successfully."
        },
        {
          "step": 2,
          "action": "Enter the user's email address and click 'Continue'.",
          "expected_result": "The password input field is displayed."
        },
        {
          "step": 3,
          "action": "Enter the user's password and click 'Login'.",
          "expected_result": "The company selection page is displayed."
        },
        {
          "step": 4,
          "action": "Select the specified company from the list.",
          "expected_result": "The company is selected and the user is redirected."
        },
        {
          "step": 5,
          "action": "Verify the dashboard page is displayed after successful login.",
          "expected_result": "The main dashboard page is loaded and visible."
        },
        {
          "step": 6,
          "action": "Navigate to the 'Metrics' page from the navigation menu.",
          "expected_result": "The 'Metrics' page is displayed."
        },
        {
          "step": 7,
          "action": "Click the 'Add Metric' button to open the creation form.",
          "expected_result": "The 'Add Metric' form appears."
        },
        {
          "step": 8,
          "action": "Enter the metric name.",
          "expected_result": "The specified metric name is entered into the name field."
        },
        {
          "step": 9,
          "action": "Select 'Metric' from the 'Value Source' dropdown.",
          "expected_result": "The 'Value Source' is set to 'Metric'."
        },
        {
          "step": 10,
          "action": "Verify the metric selection interface is visible.",
          "expected_result": "An interface to search for and select an existing metric is displayed."
        },
        {
          "step": 11,
          "action": "Search for and select an existing metric from the list.",
          "expected_result": "The selected existing metric is linked as the value source."
        },
        {
          "step": 12,
          "action": "Select 'Quarterly' from the 'Cadence' dropdown.",
          "expected_result": "The cadence is set to 'Quarterly'."
        },
        {
          "step": 13,
          "action": "Click the 'Save' button to create the metric.",
          "expected_result": "The metric is saved successfully."
        },
        {
          "step": 14,
          "action": "Navigate to 'My Dashboard'.",
          "expected_result": "The 'My Dashboard' page is displayed."
        },
        {
          "step": 15,
          "action": "Click the 'Edit KPI' button to open the KPI modal.",
          "expected_result": "The 'Edit KPI' modal opens."
        },
        {
          "step": 16,
          "action": "Search for the newly created metric name.",
          "expected_result": "The search results filter to show the newly created metric."
        },
        {
          "step": 17,
          "action": "Locate the newly created metric in the left panel.",
          "expected_result": "The new metric is found in the available metrics list."
        },
        {
          "step": 18,
          "action": "Click the metric to add it to the selected KPIs.",
          "expected_result": "The metric is moved to the selected KPIs panel."
        },
        {
          "step": 19,
          "action": "Click the 'Save' button in the modal.",
          "expected_result": "The modal closes and the dashboard refreshes."
        },
        {
          "step": 20,
          "action": "Wait for the dashboard to render.",
          "expected_result": "The dashboard fully loads with all metric cards."
        },
        {
          "step": 21,
          "action": "Locate the correct metric card on the dashboard.",
          "expected_result": "The new metric card is visible on the dashboard."
        },
        {
          "step": 22,
          "action": "Verify the metric card is present on the dashboard with the correct name and value, and without any target visualization.",
          "expected_result": "The metric card displays the correct name and value, and has no target indicators (e.g., no progress bar or color zones)."
        }
      ]
    }
  ]
}