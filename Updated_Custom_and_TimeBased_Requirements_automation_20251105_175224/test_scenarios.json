{
  "scenarios": [
    {
      "id": "TS001",
      "name": "E2E - Create Weekly Formula Metric with Custom Target",
      "description": "This end-to-end scenario verifies the complete happy path workflow for a user creating a new metric using the Formula Builder with a Weekly cadence, adding it to their dashboard, and successfully configuring a 4-level Custom Target.",
      "category": "End-to-End (E2E) Testing",
      "priority": "High",
      "user_journey": [
        "Step 1: Navigate to the Application and verify the login page is displayed.",
        "Step 2: Enter the user's email address and click 'Continue'.",
        "Step 3: Enter the user's password and click 'Login'.",
        "Step 4: Select the specified company from the list.",
        "Step 5: Verify the dashboard page is displayed after successful login.",
        "Step 6: Navigate to the 'Metrics' page from the navigation menu.",
        "Step 7: Click the 'Add Metric' button to open the creation form.",
        "Step 8: Enter the metric name.",
        "Step 9: Select 'Formula' from the 'Value Source' dropdown.",
        "Step 10: Verify the 'Formula Builder' interface is visible.",
        "Step 11: Search for and select the first metric for the formula.",
        "Step 12: Select a mathematical operator.",
        "Step 13: Search for and select the second metric for the formula.",
        "Step 14: Verify the complete formula is displayed correctly.",
        "Step 14A: Select 'Weekly' from the 'Cadence' dropdown.",
        "Step 14B: Verify the 'Resets On' dropdown appears and select a day of the week.",
        "Step 15: Click the green checkmark button to confirm the formula.",
        "Step 17: Click the 'Save' button to create the metric.",
        "Step 18: Navigate to 'My Dashboard'.",
        "Step 19: Click the 'Edit KPI' button to open the KPI modal.",
        "Step 21: Locate the newly created metric in the left panel of available metrics.",
        "Step 22: Click the metric in the left panel to add it to the right panel (selected KPIs).",
        "Step 23: Click the 'Save' button in the modal to add the KPI to the dashboard.",
        "Step 24: Wait for the dashboard to render and identify the new metric card.",
        "Step 25: Locate the correct metric card, selecting the last one if duplicates exist.",
        "Step 26: Hover over the metric card to reveal the three-dot menu button.",
        "Step 27: Click the three-dot menu button to open the dropdown menu.",
        "Step 28: Identify the active dropdown menu.",
        "Step 29: Click the 'Edit' option from the dropdown menu.",
        "Step 30: Wait for the Edit page to load completely.",
        "Step 31: Select the 'Target' tab.",
        "Step 32A.1: Select the 'Custom' radio button.",
        "Step 32A.2: Verify the four custom target input fields appear.",
        "Step 32A.3: Enter the Level 1 target value.",
        "Step 32A.4: Enter the Level 2 target value.",
        "Step 32A.5: Enter the Level 3 target value.",
        "Step 32A.6: Enter the Level 4 target value.",
        "Step 33: Click the 'Save' button to save the target configuration.",
        "Step 34: Wait for the page to navigate back to the dashboard.",
        "Step 35: Verify the metric card on the dashboard now displays the custom target indicators.",
        "Step 36: Perform a final verification of the metric card's name, value, and target visualization."
      ],
      "acceptance_criteria": [
        "User successfully logs in and navigates to the Metrics page.",
        "A new metric is successfully created using the Formula Builder with a Weekly cadence and a 'Resets On' day.",
        "The newly created metric is successfully found and added to 'My Dashboard KPIs'.",
        "The user can successfully navigate to the metric's edit page and configure a 4-level Custom Target.",
        "After saving, the user is returned to the dashboard and the metric card correctly displays the visual indicators for the Custom Target."
      ],
      "test_data_requirements": [
        "value_source: 'Formula'",
        "cadence: 'Weekly'",
        "resets_on: A valid day of the week (e.g., 'Monday')",
        "first_metric: Name of a valid, existing metric",
        "operator: A valid operator (e.g., '+')",
        "second_metric: Name of a valid, existing metric",
        "target_type: 'Custom'",
        "custom_target_values: 4 valid, descending numeric values for Level 1 to Level 4"
      ]
    },
    {
      "id": "TS002",
      "name": "E2E - Create Monthly Formula Metric with Time-Based Target",
      "description": "This end-to-end scenario verifies the happy path for creating a metric using the Formula Builder with a Monthly cadence, adding it to the dashboard, and successfully configuring a Time-Based Target with a start and end value.",
      "category": "End-to-End (E2E) Testing",
      "priority": "High",
      "user_journey": [
        "Step 1: Navigate to the Application and verify the login page is displayed.",
        "Step 2: Enter the user's email address and click 'Continue'.",
        "Step 3: Enter the user's password and click 'Login'.",
        "Step 4: Select the specified company from the list.",
        "Step 5: Verify the dashboard page is displayed after successful login.",
        "Step 6: Navigate to the 'Metrics' page from the navigation menu.",
        "Step 7: Click the 'Add Metric' button to open the creation form.",
        "Step 8: Enter the metric name.",
        "Step 9: Select 'Formula' from the 'Value Source' dropdown.",
        "Step 10: Verify the 'Formula Builder' interface is visible.",
        "Step 11: Search for and select the first metric for the formula.",
        "Step 12: Select a mathematical operator.",
        "Step 13: Search for and select the second metric for the formula.",
        "Step 14: Verify the complete formula is displayed correctly.",
        "Step 14A: Select 'Monthly' from the 'Cadence' dropdown.",
        "Step 15: Click the green checkmark button to confirm the formula.",
        "Step 17: Click the 'Save' button to create the metric.",
        "Step 18: Navigate to 'My Dashboard'.",
        "Step 19: Click the 'Edit KPI' button to open the KPI modal.",
        "Step 21: Locate the newly created metric in the left panel of available metrics.",
        "Step 22: Click the metric in the left panel to add it to the right panel.",
        "Step 23: Click the 'Save' button in the modal to add the KPI to the dashboard.",
        "Step 25: Locate the correct metric card on the dashboard.",
        "Step 26: Hover over the metric card to reveal the three-dot menu button.",
        "Step 27: Click the three-dot menu button.",
        "Step 29: Click the 'Edit' option from the dropdown menu.",
        "Step 30: Wait for the Edit page to load.",
        "Step 31: Select the 'Target' tab.",
        "Step 32B.1: Select the 'Time-Based' radio button.",
        "Step 32B.2: Verify the 'Start' and 'Target' input fields appear.",
        "Step 32B.3: Enter the Start value.",
        "Step 32B.4: Enter the Target value.",
        "Step 33: Click the 'Save' button to save the target configuration.",
        "Step 34: Wait for the page to navigate back to the dashboard.",
        "Step 35: Verify the metric card on the dashboard now displays the Time-Based target indicators (e.g., progress bar, start/target values).",
        "Step 36: Perform a final verification of the metric card's details."
      ],
      "acceptance_criteria": [
        "User successfully creates a new metric using the Formula Builder with a Monthly cadence.",
        "The 'Resets On' field is correctly not displayed for the Monthly cadence.",
        "The new metric is successfully added to 'My Dashboard KPIs'.",
        "The user can successfully configure a Time-Based Target with valid Start and Target values.",
        "After saving, the metric card on the dashboard correctly displays the visual indicators for the Time-Based Target."
      ],
      "test_data_requirements": [
        "value_source: 'Formula'",
        "cadence: 'Monthly'",
        "first_metric: Name of a valid, existing metric",
        "operator: A valid operator (e.g., '*')",
        "second_metric: Name of a valid, existing metric",
        "target_type: 'Time-Based'",
        "time_based_start_value: A valid numeric starting value",
        "time_based_target_value: A valid numeric target value"
      ]
    },
    {
      "id": "TS003",
      "name": "Functional - Create Metric from Existing Metric and Add to Dashboard",
      "description": "This scenario verifies the happy path for creating a new metric by linking to an existing metric (not using the formula builder) and successfully adding it to the 'My Dashboard KPIs' section without configuring a target.",
      "category": "Functional Testing",
      "priority": "High",
      "user_journey": [
        "Step 1: Navigate to the Application and verify the login page is displayed.",
        "Step 2: Enter the user's email address and click 'Continue'.",
        "Step 3: Enter the user's password and click 'Login'.",
        "Step 4: Select the specified company from the list.",
        "Step 5: Verify the dashboard page is displayed after successful login.",
        "Step 6: Navigate to the 'Metrics' page from the navigation menu.",
        "Step 7: Click the 'Add Metric' button to open the creation form.",
        "Step 8: Enter the metric name.",
        "Step 9: Select 'Metric' from the 'Value Source' dropdown.",
        "Step 10-ALT: Verify the metric selection interface is visible.",
        "Step 11-ALT: Search for and select an existing metric from the list.",
        "Step 14A: Select 'Quarterly' from the 'Cadence' dropdown.",
        "Step 17: Click the 'Save' button to create the metric.",
        "Step 18: Navigate to 'My Dashboard'.",
        "Step 19: Click the 'Edit KPI' button to open the KPI modal.",
        "Step 20: Search for the newly created metric name.",
        "Step 21: Locate the newly created metric in the left panel.",
        "Step 22: Click the metric to add it to the selected KPIs.",
        "Step 23: Click the 'Save' button in the modal.",
        "Step 24: Wait for the dashboard to render.",
        "Step 25: Locate the correct metric card on the dashboard.",
        "Step 36: Verify the metric card is present on the dashboard with the correct name and value, and without any target visualization."
      ],
      "acceptance_criteria": [
        "User successfully creates a new metric by selecting an existing metric as its source.",
        "The metric is created with the specified 'Quarterly' cadence.",
        "The new metric is successfully located in the 'Edit KPI' modal.",
        "The metric is successfully added to the 'My Dashboard KPIs' section.",
        "The metric card appears correctly on the dashboard without any target configuration displayed."
      ],
      "test_data_requirements": [
        "value_source: 'Metric'",
        "cadence: 'Quarterly'",
        "metric_to_select: Name of a valid, existing metric",
        "target_type: 'None' or leave empty"
      ]
    }
  ],
  "dependencies": [
    "A valid test user account with the specified credentials must exist and have access to the specified company.",
    "The application must be available at the provided base URL.",
    "For scenarios using 'Value Source: Formula', the prerequisite metrics ('First Metric', 'Second Metric') must already exist in the system and be accessible to the test user.",
    "For scenarios using 'Value Source: Metric', the prerequisite metric ('Metric to Select') must already exist."
  ],
  "edge_cases": [
    "Successfully creating a metric where the name is the maximum allowed character length.",
    "Successfully configuring a Custom Target where Level 1-4 values are consecutive integers (e.g., 4, 3, 2, 1).",
    "Successfully configuring a Time-Based Target where the Start and Target values are very large numbers.",
    "Successfully creating a formula metric using metrics that have special characters (hyphens, underscores) in their names."
  ],
  "test_data": {
    "base_url": "https://alignwebdev.aligntoday.com/",
    "test_user_email": "sudhirbd@gmail.com",
    "test_user_password": "Mindlinks2025#",
    "company_name": "[Your company name]",
    "metric_name": "[Name of the metric to be created]",
    "value_source": "[Formula or Metric]",
    "format": "Number",
    "cadence": "[Weekly, Monthly, Quarterly, or Yearly]",
    "resets_on": "[Day of week - only if Cadence = Weekly]",
    "first_metric": "[Name of first metric to use in formula]",
    "operator": "[+, -, /, *, (, )]",
    "second_metric": "[Name of second metric to use in formula]",
    "metric_to_select": "[Name of existing metric]",
    "target_type": "[Custom or Time-Based]",
    "custom_target_values": "[4 values from highest to lowest - Level 1, Level 2, Level 3, Level 4]",
    "time_based_start_value": "[Starting value]",
    "time_based_target_value": "[Target value to achieve]"
  }
}