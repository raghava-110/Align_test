{
  "scenarios": [
    {
      "id": "TS001",
      "name": "E2E - Successful Creation and Dashboard Addition of Three Sequential Metrics in a Single Session",
      "category": "End-to-End (E2E) Testing",
      "priority": "High",
      "description": "This end-to-end scenario verifies that a user can log in once, select a company, and then sequentially create three distinct metrics from an Excel data source. The flow includes creating a metric with a 'Formula' value source and 'Weekly' cadence, a metric with a 'Metric' value source, and another 'Formula' metric. Each metric is successfully added to the 'My KPIs' section of the dashboard within the same user session.",
      "user_journey": [
        "Step 1: Navigate to the Application URL and verify the login page is displayed.",
        "Step 2: Enter the user's email address and click the 'Continue' button.",
        "Step 3: Enter the user's password and click the 'Login' button.",
        "Step 4: Select the specified company from the list.",
        "Step 5: Verify the dashboard page is displayed, confirming successful login.",
        "--- START METRIC 1 (Formula, Weekly) ---",
        "Step 6: Navigate to the 'Metrics' page from the navigation menu.",
        "Step 7: Click the 'Add Metric' button.",
        "Step 8: Enter the 'Metric Name' from the first Excel record.",
        "Step 9: Enter the 'Current Value' from the first Excel record.",
        "Step 10: Select 'Formula' as the 'Value Source'.",
        "Step 11: Verify the 'Formula Builder' interface is visible.",
        "Step 12: Search for and select the 'First Metric' from the first Excel record.",
        "Step 13: Click the 'Operator' button from the first Excel record.",
        "Step 14: Search for and select the 'Second Metric' from the first Excel record.",
        "Step 16: Select 'Weekly' as the 'Cadence'.",
        "Step 17: Verify the 'Resets On' dropdown appears and select the day from the first Excel record.",
        "Step 18: Click the green checkmark button to confirm the formula.",
        "Step 19: Click the 'Save' button to create the metric.",
        "Step 20: Navigate to 'My Dashboard'.",
        "Step 21: Click the 'Edit KPI' icon/button to open the modal.",
        "Step 23: Locate the newly created metric in the left panel.",
        "Step 24: Click the metric in the left panel to add it to the right panel.",
        "Step 25: Click the 'Save' button in the modal.",
        "--- START METRIC 2 (Metric, Monthly) ---",
        "Step 6: Navigate to the 'Metrics' page from the navigation menu.",
        "Step 7: Click the 'Add Metric' button.",
        "Step 8: Enter the 'Metric Name' from the second Excel record.",
        "Step 9: Enter the 'Current Value' from the second Excel record.",
        "Step 10: Select 'Metric' as the 'Value Source'.",
        "Step 11-ALT: Verify the 'Metric Selection' interface is visible.",
        "Step 12-ALT: Search for and select the 'Metric to Select' from the second Excel record.",
        "Step 16: Select 'Monthly' as the 'Cadence'.",
        "Step 19: Click the 'Save' button to create the metric.",
        "Step 20: Navigate to 'My Dashboard'.",
        "Step 21: Click the 'Edit KPI' icon/button to open the modal.",
        "Step 23: Locate the newly created metric in the left panel.",
        "Step 24: Click the metric in the left panel to add it to the right panel.",
        "Step 25: Click the 'Save' button in the modal.",
        "--- START METRIC 3 (Formula, Quarterly) ---",
        "Step 6: Navigate to the 'Metrics' page from the navigation menu.",
        "Step 7: Click the 'Add Metric' button.",
        "Step 8: Enter the 'Metric Name' from the third Excel record.",
        "Step 9: Enter the 'Current Value' from the third Excel record.",
        "Step 10: Select 'Formula' as the 'Value Source'.",
        "Step 11: Verify the 'Formula Builder' interface is visible.",
        "Step 12: Search for and select the 'First Metric' from the third Excel record.",
        "Step 13: Click the 'Operator' button from the third Excel record.",
        "Step 14: Search for and select the 'Second Metric' from the third Excel record.",
        "Step 16: Select 'Quarterly' as the 'Cadence'.",
        "Step 18: Click the green checkmark button to confirm the formula.",
        "Step 19: Click the 'Save' button to create the metric.",
        "Step 20: Navigate to 'My Dashboard'.",
        "Step 21: Click the 'Edit KPI' icon/button to open the modal.",
        "Step 23: Locate the newly created metric in the left panel.",
        "Step 24: Click the metric in the left panel to add it to the right panel.",
        "Step 25: Click the 'Save' button in the modal.",
        "--- FINAL VERIFICATION ---",
        "Step 26: Verify all 3 created metrics are visible in the 'My KPIs' section on the dashboard."
      ],
      "acceptance_criteria": [
        "The user successfully logs in and selects their company without any errors.",
        "The user session is maintained throughout the entire process of creating three metrics.",
        "All three metrics are created successfully based on the data from the Excel file.",
        "The correct conditional UI (Formula Builder vs. Metric Selection) is displayed for each metric.",
        "The 'Resets On' field correctly appears for the 'Weekly' cadence metric and is hidden for others.",
        "Each of the three newly created metrics is successfully found and added to the 'My KPIs' section.",
        "The final dashboard view correctly displays all three added metrics with their names and current values."
      ],
      "test_data_requirements": [
        "An Excel file with three valid data rows.",
        "Record 1: Value_Source='Formula', Cadence='Weekly', with all related formula and 'Resets_On' fields populated.",
        "Record 2: Value_Source='Metric', Cadence='Monthly', with the 'Selected_Metric' field populated.",
        "Record 3: Value_Source='Formula', Cadence='Quarterly', with all related formula fields populated and 'Resets_On' empty."
      ]
    },
    {
      "id": "TS002",
      "name": "Functional - Create a Metric with 'Formula' Value Source and 'Weekly' Cadence",
      "category": "Functional Testing",
      "priority": "High",
      "description": "This scenario focuses on the successful creation of a single metric where the 'Value Source' is 'Formula' and the 'Cadence' is 'Weekly'. It specifically verifies that the 'Formula Builder' interface and the conditional 'Resets On' dropdown are displayed and function correctly.",
      "user_journey": [
        "Precondition: User is logged in, has selected a company, and is on the 'Metrics' page.",
        "Step 7: Click the 'Add Metric' button.",
        "Step 8: Enter a valid 'Metric Name'.",
        "Step 9: Enter a valid numeric 'Current Value'.",
        "Step 10: Select 'Formula' from the 'Value Source' dropdown.",
        "Step 11: Verify the 'Formula Builder' section is visible with a 'Search Metric' field and operator buttons.",
        "Step 12: Search for and select the first metric for the formula.",
        "Step 13: Click on an operator button (e.g., '+').",
        "Step 14: Search for and select the second metric for the formula.",
        "Step 15: Verify the complete formula is displayed correctly.",
        "Step 16: Select 'Weekly' from the 'Cadence' dropdown.",
        "Step 17: Verify that the 'Resets On' dropdown appears and select a day (e.g., 'Monday').",
        "Step 18: Click the green checkmark button to confirm the formula.",
        "Step 19: Click the 'Save' button.",
        "Post-condition: Verify a success message is shown or the user is redirected to the metrics list with the new metric visible."
      ],
      "acceptance_criteria": [
        "Upon selecting 'Formula' as the 'Value Source', the 'Formula Builder' interface is correctly displayed.",
        "The user can successfully search and select two existing metrics and an operator to build a valid formula.",
        "Upon selecting 'Weekly' as the 'Cadence', the 'Resets On' dropdown becomes visible.",
        "The user can select a day from the 'Resets On' dropdown.",
        "The metric is successfully saved with all specified attributes."
      ],
      "test_data_requirements": [
        "A single data record with Value_Source = 'Formula'.",
        "The record must specify names for 'First_Metric' and 'Second_Metric' that exist in the test environment.",
        "The record must specify a valid 'Operator'.",
        "The record must have Cadence = 'Weekly' and a valid day for 'Resets_On'."
      ]
    },
    {
      "id": "TS003",
      "name": "Functional - Create a Metric with 'Metric' Value Source and 'Yearly' Cadence",
      "category": "Functional Testing",
      "priority": "Medium",
      "description": "This scenario focuses on the successful creation of a single metric where the 'Value Source' is 'Metric'. It verifies that the correct 'Metric Selection' interface is displayed and that for a non-weekly cadence like 'Yearly', the 'Resets On' field does not appear.",
      "user_journey": [
        "Precondition: User is logged in, has selected a company, and is on the 'Metrics' page.",
        "Step 7: Click the 'Add Metric' button.",
        "Step 8: Enter a valid 'Metric Name'.",
        "Step 9: Enter a valid numeric 'Current Value'.",
        "Step 10: Select 'Metric' from the 'Value Source' dropdown.",
        "Step 11-ALT: Verify the metric selection interface is now visible.",
        "Step 12-ALT: Search for and select an existing metric from the dropdown/search field.",
        "Step 16: Select 'Yearly' from the 'Cadence' dropdown.",
        "Verify that the 'Resets On' field is not visible on the form.",
        "Step 19: Click the 'Save' button.",
        "Post-condition: Verify a success message is shown or the user is redirected to the metrics list with the new metric visible."
      ],
      "acceptance_criteria": [
        "Upon selecting 'Metric' as the 'Value Source', the 'Metric Selection' interface is correctly displayed.",
        "The user can successfully search for and select a pre-existing metric.",
        "When 'Yearly' is selected as the 'Cadence', the 'Resets On' field remains hidden.",
        "The metric is successfully saved with the selected source metric and cadence."
      ],
      "test_data_requirements": [
        "A single data record with Value_Source = 'Metric'.",
        "The record must specify a name for 'Selected_Metric' that exists in the test environment.",
        "The record must have Cadence = 'Yearly'."
      ]
    },
    {
      "id": "TS004",
      "name": "UI Validation - Add a Newly Created Metric to Dashboard KPIs",
      "category": "UI Validation Testing",
      "priority": "High",
      "description": "This scenario isolates and verifies the process of adding a newly created metric to the 'My KPIs' section of the dashboard. It confirms the user can open the 'Edit KPI' modal, find the metric, and successfully add it.",
      "user_journey": [
        "Precondition: User is logged in, has selected a company, and has just created a new metric.",
        "Step 20: Navigate to 'My Dashboard'.",
        "Step 21: Locate the 'Edit KPI' span element and click it to open the modal.",
        "Step 22: In the modal's search input, enter the name of the newly created metric.",
        "Step 23: Verify the metric appears in the left panel (available metrics) and not in the right panel (selected KPIs).",
        "Step 24: Click on the metric in the left panel.",
        "Verify the metric automatically moves to the right panel.",
        "Step 25: Click the 'Save' button in the modal.",
        "Verify the modal closes and the dashboard refreshes.",
        "Step 26: Verify the newly added metric is now visible in the 'My KPIs' section on the dashboard."
      ],
      "acceptance_criteria": [
        "The 'Edit KPI' modal opens successfully upon clicking the edit icon.",
        "The newly created metric can be found via search within the modal.",
        "The metric is initially present only in the 'available metrics' panel (left).",
        "Clicking the metric moves it to the 'selected KPIs' panel (right).",
        "After saving, the modal closes and the metric is displayed correctly in the 'My KPIs' dashboard section."
      ],
      "test_data_requirements": [
        "A user session where at least one metric has been created but not yet added to the dashboard.",
        "The exact name of the metric to be added."
      ]
    }
  ],
  "dependencies": [
    "A valid, active user account with the specified credentials must exist.",
    "The user must be assigned to the specified company.",
    "The test environment at the base_url must be stable and accessible.",
    "For scenarios involving 'Formula' or 'Metric' value sources, the prerequisite metrics (e.g., 'First_Metric', 'Second_Metric', 'Selected_Metric') must already exist in the application for the test user's company."
  ],
  "edge_cases": [
    "Successfully creating a metric with a name containing numbers, spaces, and hyphens.",
    "Successfully creating a metric where the 'Current Value' is zero.",
    "Successfully adding a metric to the dashboard that is the last item in the available metrics list in the 'Edit KPI' modal.",
    "Successfully creating a metric using the same source metric for both 'First_Metric' and 'Second_Metric' in a formula."
  ],
  "test_data": {
    "base_url": "https://alignwebdev.aligntoday.com/",
    "test_user_email": "sudhirbd@gmail.com",
    "test_user_password": "Mindlinks2025#",
    "company_name_placeholder": "[Your company name]",
    "excel_column_headers": [
      "Email",
      "Password",
      "Company_Name",
      "Metric_Name",
      "Value_Source",
      "Format",
      "Current_Value",
      "Cadence",
      "Resets_On",
      "First_Metric",
      "Operator",
      "Second_Metric",
      "Selected_Metric"
    ],
    "value_source_options": [
      "Formula",
      "Metric"
    ],
    "cadence_options": [
      "Weekly",
      "Monthly",
      "Quarterly",
      "Yearly"
    ],
    "resets_on_options": [
      "Monday",
      "Tuesday",
      "Wednesday",
      "Thursday",
      "Friday",
      "Saturday",
      "Sunday"
    ],
    "operator_options": [
      "+",
      "-",
      "ร",
      "รท",
      "(",
      ")"
    ]
  }
}