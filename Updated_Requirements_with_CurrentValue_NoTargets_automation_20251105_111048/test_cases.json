{
  "test_cases": [
    {
      "id": "TC001",
      "scenario_id": "TS001",
      "name": "E2E - Successful Creation and Dashboard Addition of Three Sequential Metrics in a Single Session",
      "preconditions": [
        "A valid, active user account with the specified credentials must exist.",
        "The user is assigned to the specified company.",
        "The test environment at the base_url is stable and accessible.",
        "Prerequisite metrics for formulas and metric selections (e.g., 'Total Sales', 'New Leads', 'Total User Signups', 'Product A Revenue', 'Product B Revenue') must already exist in the application for the test user's company."
      ],
      "test_data": {
        "base_url": "https://alignwebdev.aligntoday.com/",
        "test_user_email": "sudhirbd@gmail.com",
        "test_user_password": "Mindlinks2025#",
        "company_name": "[Your company name]",
        "metric_1": {
          "Metric_Name": "Weekly Sales Growth",
          "Current_Value": 150,
          "Value_Source": "Formula",
          "First_Metric": "Total Sales",
          "Operator": "+",
          "Second_Metric": "New Leads",
          "Cadence": "Weekly",
          "Resets_On": "Monday"
        },
        "metric_2": {
          "Metric_Name": "Monthly Active Users",
          "Current_Value": 5000,
          "Value_Source": "Metric",
          "Selected_Metric": "Total User Signups",
          "Cadence": "Monthly"
        },
        "metric_3": {
          "Metric_Name": "Quarterly Revenue",
          "Current_Value": 250000,
          "Value_Source": "Formula",
          "First_Metric": "Product A Revenue",
          "Operator": "+",
          "Second_Metric": "Product B Revenue",
          "Cadence": "Quarterly"
        }
      },
      "test_steps": [
        {
          "step": 1,
          "action": "Navigate to the Application URL.",
          "expected_result": "The login page is displayed with an email input field."
        },
        {
          "step": 2,
          "action": "Enter the user's email address and click the 'Continue' button.",
          "expected_result": "The password input field is displayed."
        },
        {
          "step": 3,
          "action": "Enter the user's password and click the 'Login' button.",
          "expected_result": "The company selection page is displayed."
        },
        {
          "step": 4,
          "action": "Locate and click on the specified company from the list.",
          "expected_result": "The user is redirected to the application's main dashboard."
        },
        {
          "step": 5,
          "action": "Verify the dashboard page is displayed.",
          "expected_result": "The dashboard page loads successfully, confirming a successful login and company selection."
        },
        {
          "step": 6,
          "action": "--- START METRIC 1 --- Navigate to the 'Metrics' page from the navigation menu.",
          "expected_result": "The Metrics page is displayed, showing a list of existing metrics."
        },
        {
          "step": 7,
          "action": "Click the 'Add Metric' button.",
          "expected_result": "The metric creation form appears."
        },
        {
          "step": 8,
          "action": "Enter the 'Metric Name' for the first metric: 'Weekly Sales Growth'.",
          "expected_result": "The name 'Weekly Sales Growth' is entered into the 'Name' field."
        },
        {
          "step": 9,
          "action": "Enter the 'Current Value' for the first metric: '150'.",
          "expected_result": "The value '150' is entered into the 'Current Value' field."
        },
        {
          "step": 10,
          "action": "Select 'Formula' as the 'Value Source'.",
          "expected_result": "The 'Formula Builder' interface becomes visible."
        },
        {
          "step": 11,
          "action": "Search for and select the 'First Metric': 'Total Sales'.",
          "expected_result": "'Total Sales' appears in the formula display area."
        },
        {
          "step": 12,
          "action": "Click the '+' operator button.",
          "expected_result": "The '+' operator appears in the formula display area next to the first metric."
        },
        {
          "step": 13,
          "action": "Search for and select the 'Second Metric': 'New Leads'.",
          "expected_result": "The complete formula '(Total Sales) + (New Leads)' is displayed."
        },
        {
          "step": 14,
          "action": "Select 'Weekly' as the 'Cadence'.",
          "expected_result": "The 'Resets On' dropdown appears."
        },
        {
          "step": 15,
          "action": "Select 'Monday' from the 'Resets On' dropdown.",
          "expected_result": "'Monday' is selected and displayed in the 'Resets On' field."
        },
        {
          "step": 16,
          "action": "Click the green checkmark button to confirm the formula.",
          "expected_result": "The formula is accepted without errors."
        },
        {
          "step": 17,
          "action": "Click the 'Save' button.",
          "expected_result": "The metric is created successfully, and the user is redirected to the metrics list."
        },
        {
          "step": 18,
          "action": "Navigate to 'My Dashboard'.",
          "expected_result": "The main dashboard page is displayed."
        },
        {
          "step": 19,
          "action": "Click the 'Edit KPI' icon/button.",
          "expected_result": "The 'Edit KPI' modal opens with available metrics on the left and selected KPIs on the right."
        },
        {
          "step": 20,
          "action": "Locate 'Weekly Sales Growth' in the left panel and click it.",
          "expected_result": "The 'Weekly Sales Growth' metric moves from the left panel to the right panel."
        },
        {
          "step": 21,
          "action": "Click the 'Save' button in the modal.",
          "expected_result": "The modal closes, and the 'Weekly Sales Growth' metric is visible in the 'My KPIs' section on the dashboard."
        },
        {
          "step": 22,
          "action": "--- START METRIC 2 --- Navigate to the 'Metrics' page from the navigation menu.",
          "expected_result": "The Metrics page is displayed."
        },
        {
          "step": 23,
          "action": "Click the 'Add Metric' button.",
          "expected_result": "The metric creation form appears."
        },
        {
          "step": 24,
          "action": "Enter the 'Metric Name' for the second metric: 'Monthly Active Users'.",
          "expected_result": "The name 'Monthly Active Users' is entered into the 'Name' field."
        },
        {
          "step": 25,
          "action": "Enter the 'Current Value' for the second metric: '5000'.",
          "expected_result": "The value '5000' is entered into the 'Current Value' field."
        },
        {
          "step": 26,
          "action": "Select 'Metric' as the 'Value Source'.",
          "expected_result": "The 'Metric Selection' interface becomes visible."
        },
        {
          "step": 27,
          "action": "Search for and select the 'Metric to Select': 'Total User Signups'.",
          "expected_result": "'Total User Signups' is selected and displayed as the source metric."
        },
        {
          "step": 28,
          "action": "Select 'Monthly' as the 'Cadence'.",
          "expected_result": "The 'Resets On' field does not appear."
        },
        {
          "step": 29,
          "action": "Click the 'Save' button.",
          "expected_result": "The metric is created successfully."
        },
        {
          "step": 30,
          "action": "Navigate to 'My Dashboard' and click the 'Edit KPI' icon.",
          "expected_result": "The 'Edit KPI' modal opens."
        },
        {
          "step": 31,
          "action": "Locate 'Monthly Active Users' in the left panel and click it.",
          "expected_result": "The 'Monthly Active Users' metric moves to the right panel."
        },
        {
          "step": 32,
          "action": "Click the 'Save' button in the modal.",
          "expected_result": "The modal closes, and 'Monthly Active Users' is now visible in the 'My KPIs' section."
        },
        {
          "step": 33,
          "action": "--- START METRIC 3 --- Navigate to the 'Metrics' page.",
          "expected_result": "The Metrics page is displayed."
        },
        {
          "step": 34,
          "action": "Click 'Add Metric', enter Name 'Quarterly Revenue' and Current Value '250000'.",
          "expected_result": "The details are entered correctly."
        },
        {
          "step": 35,
          "action": "Select 'Formula' as 'Value Source', build the formula '(Product A Revenue) + (Product B Revenue)', and confirm it.",
          "expected_result": "The formula is built and accepted."
        },
        {
          "step": 36,
          "action": "Select 'Quarterly' as the 'Cadence'.",
          "expected_result": "The 'Resets On' field does not appear."
        },
        {
          "step": 37,
          "action": "Click the 'Save' button.",
          "expected_result": "The metric 'Quarterly Revenue' is created successfully."
        },
        {
          "step": 38,
          "action": "Navigate to 'My Dashboard', open the 'Edit KPI' modal, add 'Quarterly Revenue' to KPIs, and save.",
          "expected_result": "The modal closes, and 'Quarterly Revenue' is visible in the 'My KPIs' section."
        },
        {
          "step": 39,
          "action": "--- FINAL VERIFICATION --- Verify the 'My KPIs' section on the dashboard.",
          "expected_result": "All three created metrics ('Weekly Sales Growth', 'Monthly Active Users', 'Quarterly Revenue') are visible in the 'My KPIs' section with their names and current values."
        }
      ]
    },
    {
      "id": "TC002",
      "scenario_id": "TS002",
      "name": "Functional - Create a Metric with 'Formula' Value Source and 'Weekly' Cadence",
      "preconditions": [
        "User is logged in, has selected a company, and is on the 'Metrics' page.",
        "The prerequisite metrics 'Tasks Completed' and 'Total Tasks Assigned' exist in the test environment."
      ],
      "test_data": {
        "base_url": "https://alignwebdev.aligntoday.com/",
        "test_user_email": "sudhirbd@gmail.com",
        "test_user_password": "Mindlinks2025#",
        "company_name": "[Your company name]",
        "Metric_Name": "Weekly Task Completion Rate",
        "Current_Value": 85,
        "Value_Source": "Formula",
        "First_Metric": "Tasks Completed",
        "Operator": "รท",
        "Second_Metric": "Total Tasks Assigned",
        "Cadence": "Weekly",
        "Resets_On": "Monday"
      },
      "test_steps": [
        {
          "step": 1,
          "action": "Click the 'Add Metric' button.",
          "expected_result": "The metric creation form is displayed."
        },
        {
          "step": 2,
          "action": "Enter a valid 'Metric Name', e.g., 'Weekly Task Completion Rate'.",
          "expected_result": "The name is entered into the 'Name' field."
        },
        {
          "step": 3,
          "action": "Enter a valid numeric 'Current Value', e.g., '85'.",
          "expected_result": "The value is entered into the 'Current Value' field."
        },
        {
          "step": 4,
          "action": "Select 'Formula' from the 'Value Source' dropdown.",
          "expected_result": "The 'Formula Builder' section becomes visible with a 'Search Metric' field and operator buttons."
        },
        {
          "step": 5,
          "action": "In the 'Formula Builder', search for and select the first metric: 'Tasks Completed'.",
          "expected_result": "The metric 'Tasks Completed' appears in the formula display area."
        },
        {
          "step": 6,
          "action": "Click on the 'รท' operator button.",
          "expected_result": "The 'รท' operator is added to the formula."
        },
        {
          "step": 7,
          "action": "Search for and select the second metric: 'Total Tasks Assigned'.",
          "expected_result": "The complete formula '(Tasks Completed) รท (Total Tasks Assigned)' is displayed correctly."
        },
        {
          "step": 8,
          "action": "Select 'Weekly' from the 'Cadence' dropdown.",
          "expected_result": "The 'Resets On' dropdown appears on the form."
        },
        {
          "step": 9,
          "action": "Select a day from the 'Resets On' dropdown, e.g., 'Monday'.",
          "expected_result": "The selected day 'Monday' is displayed."
        },
        {
          "step": 10,
          "action": "Click the green checkmark button to confirm the formula.",
          "expected_result": "The formula is validated and accepted."
        },
        {
          "step": 11,
          "action": "Click the 'Save' button.",
          "expected_result": "A success message is shown, and the user is redirected to the metrics list where the new metric 'Weekly Task Completion Rate' is visible."
        }
      ]
    },
    {
      "id": "TC003",
      "scenario_id": "TS003",
      "name": "Functional - Create a Metric with 'Metric' Value Source and 'Yearly' Cadence",
      "preconditions": [
        "User is logged in, has selected a company, and is on the 'Metrics' page.",
        "The prerequisite metric 'Total Departures' exists in the test environment."
      ],
      "test_data": {
        "base_url": "https://alignwebdev.aligntoday.com/",
        "test_user_email": "sudhirbd@gmail.com",
        "test_user_password": "Mindlinks2025#",
        "company_name": "[Your company name]",
        "Metric_Name": "Annual Employee Turnover",
        "Current_Value": 12,
        "Value_Source": "Metric",
        "Selected_Metric": "Total Departures",
        "Cadence": "Yearly"
      },
      "test_steps": [
        {
          "step": 1,
          "action": "Click the 'Add Metric' button.",
          "expected_result": "The metric creation form is displayed."
        },
        {
          "step": 2,
          "action": "Enter a valid 'Metric Name', e.g., 'Annual Employee Turnover'.",
          "expected_result": "The name is entered into the 'Name' field."
        },
        {
          "step": 3,
          "action": "Enter a valid numeric 'Current Value', e.g., '12'.",
          "expected_result": "The value is entered into the 'Current Value' field."
        },
        {
          "step": 4,
          "action": "Select 'Metric' from the 'Value Source' dropdown.",
          "expected_result": "The metric selection interface is now visible."
        },
        {
          "step": 5,
          "action": "Search for and select an existing metric from the dropdown/search field, e.g., 'Total Departures'.",
          "expected_result": "The selected metric 'Total Departures' is displayed."
        },
        {
          "step": 6,
          "action": "Select 'Yearly' from the 'Cadence' dropdown.",
          "expected_result": "The 'Yearly' cadence is selected."
        },
        {
          "step": 7,
          "action": "Verify the form.",
          "expected_result": "The 'Resets On' field is not visible on the form."
        },
        {
          "step": 8,
          "action": "Click the 'Save' button.",
          "expected_result": "A success message is shown, and the user is redirected to the metrics list where the new metric 'Annual Employee Turnover' is visible."
        }
      ]
    },
    {
      "id": "TC004",
      "scenario_id": "TS004",
      "name": "UI Validation - Add a Newly Created Metric to Dashboard KPIs",
      "preconditions": [
        "User is logged in and has selected a company.",
        "A metric named 'Customer Satisfaction Score' has been created but not yet added to the dashboard."
      ],
      "test_data": {
        "base_url": "https://alignwebdev.aligntoday.com/",
        "test_user_email": "sudhirbd@gmail.com",
        "test_user_password": "Mindlinks2025#",
        "company_name": "[Your company name]",
        "metric_to_add": "Customer Satisfaction Score"
      },
      "test_steps": [
        {
          "step": 1,
          "action": "Navigate to 'My Dashboard'.",
          "expected_result": "The dashboard page is displayed with the 'My KPIs' section visible."
        },
        {
          "step": 2,
          "action": "Locate the 'Edit KPI' span element and click it.",
          "expected_result": "The 'Edit KPI' modal opens successfully."
        },
        {
          "step": 3,
          "action": "In the modal's search input, enter 'Customer Satisfaction Score'.",
          "expected_result": "The list of available metrics in the left panel is filtered to show 'Customer Satisfaction Score'."
        },
        {
          "step": 4,
          "action": "Verify the location of the metric.",
          "expected_result": "The metric 'Customer Satisfaction Score' appears in the left panel (available metrics) and not in the right panel (selected KPIs)."
        },
        {
          "step": 5,
          "action": "Click on the 'Customer Satisfaction Score' metric in the left panel.",
          "expected_result": "The metric automatically moves from the left panel to the right panel."
        },
        {
          "step": 6,
          "action": "Click the 'Save' button in the modal.",
          "expected_result": "The modal closes, and the dashboard refreshes."
        },
        {
          "step": 7,
          "action": "Verify the 'My KPIs' section on the dashboard.",
          "expected_result": "The newly added metric 'Customer Satisfaction Score' is now visible in the 'My KPIs' section."
        }
      ]
    }
  ]
}