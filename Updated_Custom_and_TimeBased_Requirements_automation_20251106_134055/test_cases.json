{
  "test_cases": [
    {
      "id": "TC001",
      "scenario_id": "TS001",
      "name": "Create Formula-Based Metric with Weekly Cadence and Custom Target",
      "preconditions": [
        "A valid user account with appropriate permissions must exist.",
        "The test environment must be stable and accessible at the specified base_url.",
        "The metrics specified as 'First Metric' and 'Second Metric' must already exist in the selected company's account.",
        "The test assumes a clean state where duplicate metric names from previous runs do not interfere with element location."
      ],
      "test_data": {
        "base_url": "https://alignwebdev.aligntoday.com/",
        "test_user_email": "sudhirbd@gmail.com",
        "test_user_password": "Mindlinks2025#",
        "company_name": "[Your company name]",
        "metric_name": "Weekly Sales Formula Metric",
        "value_source": "Formula",
        "cadence": "Weekly",
        "resets_on": "Monday",
        "first_metric": "Total Revenue",
        "operator": "+",
        "second_metric": "New Customer Sales",
        "target_type": "Custom",
        "custom_target_values": [
          4000,
          3000,
          2000,
          1000
        ]
      },
      "test_steps": [
        {
          "step": 1,
          "action": "Navigate to the Application URL.",
          "expected_result": "The login page is displayed."
        },
        {
          "step": 2,
          "action": "Enter the user's email address in the email input field and click 'Continue'.",
          "expected_result": "The password input field is displayed."
        },
        {
          "step": 3,
          "action": "Enter the user's password in the password input field and click 'Login'.",
          "expected_result": "The company selection page is displayed."
        },
        {
          "step": 4,
          "action": "Locate and click on the specified company from the list.",
          "expected_result": "The user is redirected to the company's dashboard."
        },
        {
          "step": 5,
          "action": "Verify the dashboard page is displayed after successful login.",
          "expected_result": "The main dashboard with navigation menu is visible."
        },
        {
          "step": 6,
          "action": "Click on 'Metrics' in the navigation menu.",
          "expected_result": "The Metrics page is loaded and displayed."
        },
        {
          "step": 7,
          "action": "Click the 'Add Metric' button.",
          "expected_result": "The metric creation form appears."
        },
        {
          "step": 8,
          "action": "Enter the metric name in the 'Name' input field.",
          "expected_result": "The entered name is visible in the 'Name' field."
        },
        {
          "step": 9,
          "action": "Select 'Formula' from the 'Value Source' dropdown.",
          "expected_result": "The interface updates to show the Formula Builder."
        },
        {
          "step": 10,
          "action": "Verify the 'Formula Builder' interface is visible.",
          "expected_result": "The 'Search Metric' input field and operator buttons are displayed."
        },
        {
          "step": 11,
          "action": "Search for and select the first metric for the formula.",
          "expected_result": "The selected metric appears in the formula display area."
        },
        {
          "step": 12,
          "action": "Select a mathematical operator (e.g., '+').",
          "expected_result": "The selected operator appears in the formula display area."
        },
        {
          "step": 13,
          "action": "Search for and select the second metric for the formula.",
          "expected_result": "The second metric appears in the formula display area."
        },
        {
          "step": 14,
          "action": "Verify the complete formula is displayed correctly in the format: (Metric) [Operator] (Metric).",
          "expected_result": "The formula is constructed as expected and a green checkmark is visible."
        },
        {
          "step": 15,
          "action": "Select 'Weekly' from the 'Cadence' dropdown.",
          "expected_result": "The 'Resets On' dropdown field appears."
        },
        {
          "step": 16,
          "action": "Select a day of the week from the 'Resets On' dropdown.",
          "expected_result": "The selected day is displayed in the 'Resets On' field."
        },
        {
          "step": 17,
          "action": "Click the green checkmark button to confirm the formula.",
          "expected_result": "The formula is accepted without errors."
        },
        {
          "step": 18,
          "action": "Click the 'Save' button to create the metric.",
          "expected_result": "A confirmation is shown and the user is returned to the Metrics page."
        },
        {
          "step": 19,
          "action": "Navigate to 'My Dashboard' from the main navigation menu.",
          "expected_result": "The 'My Dashboard' page is loaded, showing the 'My KPIs' section."
        },
        {
          "step": 20,
          "action": "Click the 'Edit KPI' icon.",
          "expected_result": "The KPI selection modal opens with available and selected metrics panels."
        },
        {
          "step": 21,
          "action": "Search for the newly created metric name in the search input field.",
          "expected_result": "The metric list is filtered to show the new metric."
        },
        {
          "step": 22,
          "action": "Locate the metric in the left panel of available metrics.",
          "expected_result": "The metric is visible in the left panel."
        },
        {
          "step": 23,
          "action": "Click the metric in the left panel.",
          "expected_result": "The metric moves from the left panel to the right panel (selected KPIs)."
        },
        {
          "step": 24,
          "action": "Click the 'Save' button in the modal.",
          "expected_result": "The modal closes and the dashboard refreshes to show the new metric card."
        },
        {
          "step": 25,
          "action": "Wait for the dashboard to load and identify the new metric card.",
          "expected_result": "The new metric card is visible in the 'My KPIs' section."
        },
        {
          "step": 26,
          "action": "Hover over the metric card.",
          "expected_result": "The three-dot menu button becomes visible."
        },
        {
          "step": 27,
          "action": "Click the three-dot menu button.",
          "expected_result": "A dropdown menu with options like 'Edit' appears."
        },
        {
          "step": 28,
          "action": "Click the 'Edit' option from the dropdown menu.",
          "expected_result": "The user is navigated to the Edit page for the metric."
        },
        {
          "step": 29,
          "action": "Wait for the Edit page to load completely.",
          "expected_result": "The Edit page displays the metric name and 'Target' and 'Metric' tabs."
        },
        {
          "step": 30,
          "action": "Select the 'Target' tab if it is not already active.",
          "expected_result": "The target configuration options (Custom, Time-Based, None) are displayed."
        },
        {
          "step": 31,
          "action": "Select the 'Custom' radio button for the target type.",
          "expected_result": "Four input fields for custom target levels appear."
        },
        {
          "step": 32,
          "action": "Enter the Level 1, Level 2, Level 3, and Level 4 target values in their respective fields in descending order.",
          "expected_result": "All 4 custom target values are entered correctly."
        },
        {
          "step": 33,
          "action": "Click the 'Save' button.",
          "expected_result": "The target configuration is saved, and the page navigates back to the dashboard."
        },
        {
          "step": 34,
          "action": "Locate the metric card on the dashboard.",
          "expected_result": "The metric card displays visual indicators for the configured custom target."
        },
        {
          "step": 35,
          "action": "Perform a final verification of the metric card's name, value, and target visualization.",
          "expected_result": "The metric card correctly displays the name, value, and custom target levels."
        }
      ]
    },
    {
      "id": "TC002",
      "scenario_id": "TS002",
      "name": "Create Metric from Existing Metric with Monthly Cadence and Time-Based Target",
      "preconditions": [
        "A valid user account with appropriate permissions must exist.",
        "The test environment must be stable and accessible at the specified base_url.",
        "The metric specified as 'Metric to Select' must already exist in the selected company's account."
      ],
      "test_data": {
        "base_url": "https://alignwebdev.aligntoday.com/",
        "test_user_email": "sudhirbd@gmail.com",
        "test_user_password": "Mindlinks2025#",
        "company_name": "[Your company name]",
        "metric_name": "Monthly Active Users Copy",
        "value_source": "Metric",
        "metric_to_select": "Monthly Active Users",
        "cadence": "Monthly",
        "target_type": "Time-Based",
        "time_based_start_value": 5000,
        "time_based_target_value": 7500
      },
      "test_steps": [
        {
          "step": 1,
          "action": "Navigate to the Application URL.",
          "expected_result": "The login page is displayed."
        },
        {
          "step": 2,
          "action": "Enter the user's email address and click 'Continue'.",
          "expected_result": "The password input field is displayed."
        },
        {
          "step": 3,
          "action": "Enter the user's password and click 'Login'.",
          "expected_result": "The company selection page is displayed."
        },
        {
          "step": 4,
          "action": "Select the specified company from the list.",
          "expected_result": "The user is redirected to the company's dashboard."
        },
        {
          "step": 5,
          "action": "Verify the dashboard page is displayed after successful login.",
          "expected_result": "The main dashboard with navigation menu is visible."
        },
        {
          "step": 6,
          "action": "Navigate to the Metrics page via the navigation menu.",
          "expected_result": "The Metrics page is loaded and displayed."
        },
        {
          "step": 7,
          "action": "Click the 'Add Metric' button.",
          "expected_result": "The metric creation form appears."
        },
        {
          "step": 8,
          "action": "Enter the metric name in the 'Name' input field.",
          "expected_result": "The entered name is visible in the 'Name' field."
        },
        {
          "step": 9,
          "action": "Select 'Metric' from the 'Value Source' dropdown.",
          "expected_result": "The interface updates to show a metric selection dropdown."
        },
        {
          "step": 10,
          "action": "Search for and select an existing metric from the dropdown.",
          "expected_result": "The selected metric's name is displayed."
        },
        {
          "step": 11,
          "action": "Select 'Monthly' from the 'Cadence' dropdown.",
          "expected_result": "The cadence is set to 'Monthly' and the 'Resets On' field does not appear."
        },
        {
          "step": 12,
          "action": "Click the 'Save' button to create the metric.",
          "expected_result": "The metric is created successfully and the user is returned to the Metrics page."
        },
        {
          "step": 13,
          "action": "Navigate to 'My Dashboard' from the main navigation.",
          "expected_result": "The 'My Dashboard' page is loaded."
        },
        {
          "step": 14,
          "action": "Click the 'Edit KPI' icon.",
          "expected_result": "The KPI selection modal opens."
        },
        {
          "step": 15,
          "action": "Locate the new metric in the left panel and click it.",
          "expected_result": "The metric moves to the right panel of selected KPIs."
        },
        {
          "step": 16,
          "action": "Click the 'Save' button in the modal.",
          "expected_result": "The modal closes and the dashboard refreshes with the new metric card."
        },
        {
          "step": 17,
          "action": "Locate the correct metric card on the dashboard.",
          "expected_result": "The new metric card is visible in the 'My KPIs' section."
        },
        {
          "step": 18,
          "action": "Hover over the metric card and click the three-dot menu button.",
          "expected_result": "A dropdown menu appears."
        },
        {
          "step": 19,
          "action": "Click the 'Edit' option from the dropdown menu.",
          "expected_result": "The Edit page for the metric is displayed."
        },
        {
          "step": 20,
          "action": "Select the 'Target' tab.",
          "expected_result": "The target configuration options are displayed."
        },
        {
          "step": 21,
          "action": "Select the 'Time-Based' radio button.",
          "expected_result": "'Start' and 'Target' input fields appear."
        },
        {
          "step": 22,
          "action": "Enter a numeric value in the 'Start' input field.",
          "expected_result": "The start value is entered correctly."
        },
        {
          "step": 23,
          "action": "Enter a numeric value in the 'Target' input field.",
          "expected_result": "The target value is entered correctly."
        },
        {
          "step": 24,
          "action": "Click the 'Save' button.",
          "expected_result": "The configuration is saved and the page navigates back to the dashboard."
        },
        {
          "step": 25,
          "action": "Locate the metric card and verify it displays the Time-Based target progress indicator.",
          "expected_result": "The metric card shows a progress bar or similar indicator for the time-based target."
        },
        {
          "step": 26,
          "action": "Perform a final verification of the metric card's name, value, and target visualization.",
          "expected_result": "The metric card correctly displays the name, value, and time-based target progress."
        }
      ]
    },
    {
      "id": "TC003",
      "scenario_id": "TS003",
      "name": "Create Formula-Based Metric with Quarterly Cadence and Add to Dashboard",
      "preconditions": [
        "A valid user account with appropriate permissions must exist.",
        "The test environment must be stable and accessible at the specified base_url.",
        "The metrics specified as 'First Metric' and 'Second Metric' must already exist in the selected company's account."
      ],
      "test_data": {
        "base_url": "https://alignwebdev.aligntoday.com/",
        "test_user_email": "sudhirbd@gmail.com",
        "test_user_password": "Mindlinks2025#",
        "company_name": "[Your company name]",
        "metric_name": "Quarterly Profit Margin",
        "value_source": "Formula",
        "first_metric": "Net Profit",
        "operator": "/",
        "second_metric": "Total Revenue",
        "cadence": "Quarterly",
        "target_type": "None"
      },
      "test_steps": [
        {
          "step": 1,
          "action": "Navigate to the Application URL.",
          "expected_result": "The login page is displayed."
        },
        {
          "step": 2,
          "action": "Enter the user's email address and click 'Continue'.",
          "expected_result": "The password input field is displayed."
        },
        {
          "step": 3,
          "action": "Enter the user's password and click 'Login'.",
          "expected_result": "The company selection page is displayed."
        },
        {
          "step": 4,
          "action": "Select the specified company from the list.",
          "expected_result": "The user is redirected to the company's dashboard."
        },
        {
          "step": 5,
          "action": "Verify the dashboard page is displayed after successful login.",
          "expected_result": "The main dashboard with navigation menu is visible."
        },
        {
          "step": 6,
          "action": "Navigate to the Metrics page via the navigation menu.",
          "expected_result": "The Metrics page is loaded and displayed."
        },
        {
          "step": 7,
          "action": "Click the 'Add Metric' button.",
          "expected_result": "The metric creation form appears."
        },
        {
          "step": 8,
          "action": "Enter the metric name in the 'Name' input field.",
          "expected_result": "The entered name is visible in the 'Name' field."
        },
        {
          "step": 9,
          "action": "Select 'Formula' from the 'Value Source' dropdown.",
          "expected_result": "The Formula Builder interface is displayed."
        },
        {
          "step": 10,
          "action": "Search for and select the first metric for the formula.",
          "expected_result": "The first metric appears in the formula display area."
        },
        {
          "step": 11,
          "action": "Select a mathematical operator (e.g., '*').",
          "expected_result": "The operator appears in the formula display area."
        },
        {
          "step": 12,
          "action": "Search for and select the second metric for the formula.",
          "expected_result": "The second metric appears, completing the formula."
        },
        {
          "step": 13,
          "action": "Select 'Quarterly' from the 'Cadence' dropdown.",
          "expected_result": "The cadence is set to 'Quarterly'."
        },
        {
          "step": 14,
          "action": "Click the green checkmark button to confirm the formula.",
          "expected_result": "The formula is accepted."
        },
        {
          "step": 15,
          "action": "Click the 'Save' button to create the metric.",
          "expected_result": "The metric is created successfully."
        },
        {
          "step": 16,
          "action": "Navigate to 'My Dashboard' from the main navigation.",
          "expected_result": "The 'My Dashboard' page is loaded."
        },
        {
          "step": 17,
          "action": "Click the 'Edit KPI' icon.",
          "expected_result": "The KPI selection modal opens."
        },
        {
          "step": 18,
          "action": "Search for the newly created metric name.",
          "expected_result": "The new metric is found and displayed in the available metrics list."
        },
        {
          "step": 19,
          "action": "Click the metric in the left panel to add it to the right panel.",
          "expected_result": "The metric is moved to the selected KPIs panel."
        },
        {
          "step": 20,
          "action": "Click the 'Save' button in the modal.",
          "expected_result": "The modal closes and the dashboard refreshes."
        },
        {
          "step": 21,
          "action": "Wait for the dashboard to load and locate the new metric card.",
          "expected_result": "The new metric card is present in the 'My KPIs' section."
        },
        {
          "step": 22,
          "action": "Verify the metric card displays the correct name and value, and does not have any target indicators.",
          "expected_result": "The metric card is displayed correctly without any target visuals."
        }
      ]
    }
  ]
}